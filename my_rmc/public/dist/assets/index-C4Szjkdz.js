import{a as g,aH as Or,aI as Er,aJ as me,j as a,k as N,aK as Nr,A as Y,B as S,aL as Sr,h as C,am as At,I as Z,F as It,af as Ye,aM as Pt,aN as Mt,aO as Lt,aF as Rt,u as Cr,aD as Ge,aP as Ar,t as Ft,an as ze,aq as Se,a2 as Ir,C as Pr,e as Mr,l as Lr}from"./index-Nq-JnkO1.js";import{P as Rr}from"./Page-CVhLCjQG.js";import{M as Fr,H as zr}from"./index-BihKEvKO.js";import{F as $r,b as Hr}from"./baseNavigation-DLGvQcel.js";import{I as Wr,F as zt}from"./index-BCDPXTHA.js";import{F as _r}from"./UserIcon-DLEBOrgF.js";import{F as $t,a as Br,g as Ur}from"./getUserAgentBrowser-DhXS3Y5X.js";import{u as Ht,o as Wt,b as _t,C as G,d as ot,e as Bt,a as he,c as ye}from"./index.esm-DbYakxIA.js";import{D as Ut}from"./Datepicker-Bdjy1l-i.js";import{H as Kt,G as Yt,U as Gt,K as Vt,j as Xt}from"./combobox-C0xy-db6.js";import{U as qt,z as fe,a0 as xe}from"./transition-D0em_1D0.js";import{F as Qt}from"./CheckIcon-CB5K6mlg.js";import{u as Kr,d as Yr,a as Gr,b as Vr}from"./useApiHook-DEiEL2zp.js";import{y as Zt,j as Jt}from"./dialog-C0T9i1fE.js";import{F as er}from"./PlusIcon-ASD_hCgU.js";import{c as Ce,H as Xr}from"./index-VFpQ04UR.js";import{r as qr,I as Qr,g as Zr,E as Ae}from"./menu-Dqrh_Wmo.js";import"./useUnmount-fc8ZVi4T.js";import"./iconBase-D-WYWTJs.js";import"./EnvelopeIcon-BZZrhc-c.js";import"./frozen-mMcUq-vb.js";import"./react-apexcharts.min-BmRhAqKs.js";import"./listbox-BvoGPxI_.js";import"./use-text-value-C44SPB8J.js";import"./active-element-history-DZaDIJMk.js";import"./floating-ui.dom-CtcSe9Ld.js";import"./useMutation-jsNuLtXj.js";function Jr({title:e,titleId:t,...r},n){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?g.createElement("title",{id:t},e):null,g.createElement("path",{fillRule:"evenodd",d:"M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401Z",clipRule:"evenodd"}))}const Ve=g.forwardRef(Jr);function en({title:e,titleId:t,...r},n){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 13.5V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m12-3V3.75m0 9.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 3.75V16.5m-6-9V3.75m0 3.75a1.5 1.5 0 0 1 0 3m0-3a1.5 1.5 0 0 0 0 3m0 9.75V10.5"}))}const tn=g.forwardRef(en);function rn({title:e,titleId:t,...r},n){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"}))}const nn=g.forwardRef(rn);function an({title:e,titleId:t,...r},n){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0M3.124 7.5A8.969 8.969 0 0 1 5.292 3m13.416 0a8.969 8.969 0 0 1 2.168 4.5"}))}const on=g.forwardRef(an);function sn({title:e,titleId:t,...r},n){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const it=g.forwardRef(sn);function ln({title:e,titleId:t,...r},n){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const cn=g.forwardRef(ln);function dn({title:e,titleId:t,...r},n){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const se=g.forwardRef(dn);function un(e){var t=e.startIndex,r=e.closestEdgeOfTarget,n=e.indexOfTarget,o=e.axis;if(t===-1||n===-1||t===n)return t;if(r==null)return n;var i=r==="bottom"||o==="horizontal",l=t<n;return l?i?n:n-1:i?n+1:n}function fn(e){if(Array.isArray(e))return e}function pn(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,i,l,d=[],s=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(d.push(n.value),d.length!==t);s=!0);}catch(f){c=!0,o=f}finally{try{if(!s&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw o}}return d}}function $e(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tr(e,t){if(e){if(typeof e=="string")return $e(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$e(e,t):void 0}}function mn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xe(e,t){return fn(e)||pn(e,t)||tr(e,t)||mn()}function gn(e){var t=e.list,r=e.startIndex,n=e.finishIndex;if(r===-1||n===-1)return Array.from(t);var o=Array.from(t),i=o.splice(r,1),l=Xe(i,1),d=l[0];return o.splice(n,0,d),o}var Ie={},ne={},st;function rr(){if(st)return ne;st=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.bind=void 0;function e(t,r){var n=r.type,o=r.listener,i=r.options;return t.addEventListener(n,o,i),function(){t.removeEventListener(n,o,i)}}return ne.bind=e,ne}var K={},lt;function vn(){if(lt)return K;lt=1;var e=K&&K.__assign||function(){return e=Object.assign||function(i){for(var l,d=1,s=arguments.length;d<s;d++){l=arguments[d];for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i},e.apply(this,arguments)};Object.defineProperty(K,"__esModule",{value:!0}),K.bindAll=void 0;var t=rr();function r(i){if(!(typeof i>"u"))return typeof i=="boolean"?{capture:i}:i}function n(i,l){if(l==null)return i;var d=e(e({},i),{options:e(e({},r(l)),r(i.options))});return d}function o(i,l,d){var s=l.map(function(c){var f=n(c,d);return(0,t.bind)(i,f)});return function(){s.forEach(function(f){return f()})}}return K.bindAll=o,K}var ct;function hn(){return ct||(ct=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.bindAll=e.bind=void 0;var t=rr();Object.defineProperty(e,"bind",{enumerable:!0,get:function(){return t.bind}});var r=vn();Object.defineProperty(e,"bindAll",{enumerable:!0,get:function(){return r.bindAll}})}(Ie)),Ie}var J=hn(),nr="data-pdnd-honey-pot";function ar(e){return e instanceof Element&&e.hasAttribute(nr)}function or(e){var t=document.elementsFromPoint(e.x,e.y),r=Xe(t,2),n=r[0],o=r[1];return n?ar(n)?o??null:n:null}function le(e){"@babel/helpers - typeof";return le=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},le(e)}function yn(e,t){if(le(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(le(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xn(e){var t=yn(e,"string");return le(t)=="symbol"?t:t+""}function pe(e,t,r){return(t=xn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ir=2147483647;function dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dt(Object(r),!0).forEach(function(n){pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var ce=2,ft=ce/2;function bn(e){return{x:Math.floor(e.x),y:Math.floor(e.y)}}function wn(e){return{x:e.x-ft,y:e.y-ft}}function jn(e){return{x:Math.max(e.x,0),y:Math.max(e.y,0)}}function Tn(e){return{x:Math.min(e.x,window.innerWidth-ce),y:Math.min(e.y,window.innerHeight-ce)}}function pt(e){var t=e.client,r=Tn(jn(wn(bn(t))));return DOMRect.fromRect({x:r.x,y:r.y,width:ce,height:ce})}function mt(e){var t=e.clientRect;return{left:"".concat(t.left,"px"),top:"".concat(t.top,"px"),width:"".concat(t.width,"px"),height:"".concat(t.height,"px")}}function kn(e){var t=e.client,r=e.clientRect;return t.x>=r.x&&t.x<=r.x+r.width&&t.y>=r.y&&t.y<=r.y+r.height}function Dn(e){var t=e.initial,r=document.createElement("div");r.setAttribute(nr,"true");var n=pt({client:t});Object.assign(r.style,ut(ut({backgroundColor:"transparent",position:"fixed",padding:0,margin:0,boxSizing:"border-box"},mt({clientRect:n})),{},{pointerEvents:"auto",zIndex:ir})),document.body.appendChild(r);var o=J.bind(window,{type:"pointermove",listener:function(l){var d={x:l.clientX,y:l.clientY};n=pt({client:d}),Object.assign(r.style,mt({clientRect:n}))},options:{capture:!0}});return function(l){var d=l.current;if(o(),kn({client:d,clientRect:n})){r.remove();return}function s(){c(),r.remove()}var c=J.bindAll(window,[{type:"pointerdown",listener:s},{type:"pointermove",listener:s},{type:"focusin",listener:s},{type:"focusout",listener:s},{type:"dragstart",listener:s},{type:"dragenter",listener:s},{type:"dragover",listener:s}],{capture:!0})}}function On(){var e=null;function t(){return e=null,J.bind(window,{type:"pointermove",listener:function(o){e={x:o.clientX,y:o.clientY}},options:{capture:!0}})}function r(){var n=null;return function(i){var l=i.eventName,d=i.payload;if(l==="onDragStart"){var s,c=d.location.initial.input,f=(s=e)!==null&&s!==void 0?s:{x:c.clientX,y:c.clientY};n=Dn({initial:f})}if(l==="onDrop"){var p,v=d.location.current.input;(p=n)===null||p===void 0||p({current:{x:v.clientX,y:v.clientY}}),n=null,e=null}}}return{bindEvents:t,getOnPostDispatch:r}}function En(e){if(Array.isArray(e))return $e(e)}function Nn(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Sn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sr(e){return En(e)||Nn(e)||tr(e)||Sn()}function qe(e){var t=null;return function(){if(!t){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var l=e.apply(this,o);t={result:l}}return t.result}}var Cn=qe(function(){return navigator.userAgent.includes("Firefox")}),Te=qe(function(){var t=navigator,r=t.userAgent;return r.includes("AppleWebKit")&&!r.includes("Chrome")}),He={isLeavingWindow:Symbol("leaving"),isEnteringWindow:Symbol("entering")};function An(e){var t=e.dragLeave;return Te()?t.hasOwnProperty(He.isLeavingWindow):!1}(function(){if(typeof window>"u"||!Te())return;function t(){return{enterCount:0,isOverWindow:!1}}var r=t();function n(){r=t()}J.bindAll(window,[{type:"dragstart",listener:function(){r.enterCount=0,r.isOverWindow=!0}},{type:"drop",listener:n},{type:"dragend",listener:n},{type:"dragenter",listener:function(i){!r.isOverWindow&&r.enterCount===0&&(i[He.isEnteringWindow]=!0),r.isOverWindow=!0,r.enterCount++}},{type:"dragleave",listener:function(i){r.enterCount--,r.isOverWindow&&r.enterCount===0&&(i[He.isLeavingWindow]=!0,r.isOverWindow=!1)}}],{capture:!0})})();function In(e){return"nodeName"in e}function Pn(e){return In(e)&&e.ownerDocument!==document}function Mn(e){var t=e.dragLeave,r=t.type,n=t.relatedTarget;return r!=="dragleave"?!1:Te()?An({dragLeave:t}):n==null?!0:Cn()?Pn(n):n instanceof HTMLIFrameElement}function Ln(e){var t=e.onDragEnd;return[{type:"pointermove",listener:function(){var r=0;return function(){if(r<20){r++;return}t()}}()},{type:"pointerdown",listener:t}]}function oe(e){return{altKey:e.altKey,button:e.button,buttons:e.buttons,ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var Rn=function(t){var r=[],n=null,o=function(){for(var l=arguments.length,d=new Array(l),s=0;s<l;s++)d[s]=arguments[s];r=d,!n&&(n=requestAnimationFrame(function(){n=null,t.apply(void 0,r)}))};return o.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},o},Pe=Rn(function(e){return e()}),ge=function(){var e=null;function t(n){var o=requestAnimationFrame(function(){e=null,n()});e={frameId:o,fn:n}}function r(){e&&(cancelAnimationFrame(e.frameId),e.fn(),e=null)}return{schedule:t,flush:r}}();function Fn(e){var t=e.source,r=e.initial,n=e.dispatchEvent,o={dropTargets:[]};function i(d){n(d),o={dropTargets:d.payload.location.current.dropTargets}}var l={start:function(s){var c=s.nativeSetDragImage,f={current:r,previous:o,initial:r};i({eventName:"onGenerateDragPreview",payload:{source:t,location:f,nativeSetDragImage:c}}),ge.schedule(function(){i({eventName:"onDragStart",payload:{source:t,location:f}})})},dragUpdate:function(s){var c=s.current;ge.flush(),Pe.cancel(),i({eventName:"onDropTargetChange",payload:{source:t,location:{initial:r,previous:o,current:c}}})},drag:function(s){var c=s.current;Pe(function(){ge.flush();var f={initial:r,previous:o,current:c};i({eventName:"onDrag",payload:{source:t,location:f}})})},drop:function(s){var c=s.current,f=s.updatedSourcePayload;ge.flush(),Pe.cancel(),i({eventName:"onDrop",payload:{source:f??t,location:{current:c,previous:o,initial:r}}})}};return l}var We={isActive:!1};function lr(){return!We.isActive}function zn(e){return e.dataTransfer?e.dataTransfer.setDragImage.bind(e.dataTransfer):null}function $n(e){var t=e.current,r=e.next;if(t.length!==r.length)return!0;for(var n=0;n<t.length;n++)if(t[n].element!==r[n].element)return!0;return!1}function Hn(e){var t=e.event,r=e.dragType,n=e.getDropTargetsOver,o=e.dispatchEvent;if(!lr())return;var i=Wn({event:t,dragType:r,getDropTargetsOver:n});We.isActive=!0;var l={current:i};Me({event:t,current:i.dropTargets});var d=Fn({source:r.payload,dispatchEvent:o,initial:i});function s(u){var h=$n({current:l.current.dropTargets,next:u.dropTargets});l.current=u,h&&d.dragUpdate({current:l.current})}function c(u){var h=oe(u),m=ar(u.target)?or({x:h.clientX,y:h.clientY}):u.target,y=n({target:m,input:h,source:r.payload,current:l.current.dropTargets});y.length&&(u.preventDefault(),Me({event:u,current:y})),s({dropTargets:y,input:h})}function f(){l.current.dropTargets.length&&s({dropTargets:[],input:l.current.input}),d.drop({current:l.current,updatedSourcePayload:null}),p()}function p(){We.isActive=!1,v()}var v=J.bindAll(window,[{type:"dragover",listener:function(h){c(h),d.drag({current:l.current})}},{type:"dragenter",listener:c},{type:"dragleave",listener:function(h){Mn({dragLeave:h})&&(s({input:l.current.input,dropTargets:[]}),r.startedFrom==="external"&&f())}},{type:"drop",listener:function(h){if(l.current={dropTargets:l.current.dropTargets,input:oe(h)},!l.current.dropTargets.length){f();return}h.preventDefault(),Me({event:h,current:l.current.dropTargets}),d.drop({current:l.current,updatedSourcePayload:r.type==="external"?r.getDropPayload(h):null}),p()}},{type:"dragend",listener:function(h){l.current={dropTargets:l.current.dropTargets,input:oe(h)},f()}}].concat(sr(Ln({onDragEnd:f}))),{capture:!0});d.start({nativeSetDragImage:zn(t)})}function Me(e){var t,r=e.event,n=e.current,o=(t=n[0])===null||t===void 0?void 0:t.dropEffect;o!=null&&r.dataTransfer&&(r.dataTransfer.dropEffect=o)}function Wn(e){var t=e.event,r=e.dragType,n=e.getDropTargetsOver,o=oe(t);if(r.startedFrom==="external")return{input:o,dropTargets:[]};var i=n({input:o,source:r.payload,target:t.target,current:[]});return{input:o,dropTargets:i}}var gt={canStart:lr,start:Hn},_e=new Map;function _n(e){var t=e.typeKey,r=e.mount,n=_e.get(t);if(n)return n.usageCount++,n;var o={typeKey:t,unmount:r(),usageCount:1};return _e.set(t,o),o}function Bn(e){var t=_n(e);return function(){t.usageCount--,!(t.usageCount>0)&&(t.unmount(),_e.delete(e.typeKey))}}function ke(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){t.forEach(function(o){return o()})}}function cr(e,t){var r=t.attribute,n=t.value;return e.setAttribute(r,n),function(){return e.removeAttribute(r)}}function vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vt(Object(r),!0).forEach(function(n){pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Le(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Un(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,l=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return l=c.done,c},e:function(c){d=!0,i=c},f:function(){try{l||r.return==null||r.return()}finally{if(d)throw i}}}}function Un(e,t){if(e){if(typeof e=="string")return ht(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(e,t):void 0}}function ht(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Re(e){return e.slice(0).reverse()}function Kn(e){var t=e.typeKey,r=e.defaultDropEffect,n=new WeakMap,o="data-drop-target-for-".concat(t),i="[".concat(o,"]");function l(u){return n.set(u.element,u),function(){return n.delete(u.element)}}function d(u){return ke(cr(u.element,{attribute:o,value:"true"}),l(u))}function s(u){var h,m,y,j,b=u.source,D=u.target,T=u.input,O=u.result,x=O===void 0?[]:O;if(D==null)return x;if(!(D instanceof Element))return D instanceof Node?s({source:b,target:D.parentElement,input:T,result:x}):x;var R=D.closest(i);if(R==null)return x;var E=n.get(R);if(E==null)return x;var P={input:T,source:b,element:E.element};if(E.canDrop&&!E.canDrop(P))return s({source:b,target:E.element.parentElement,input:T,result:x});var M=(h=(m=E.getData)===null||m===void 0?void 0:m.call(E,P))!==null&&h!==void 0?h:{},F=(y=(j=E.getDropEffect)===null||j===void 0?void 0:j.call(E,P))!==null&&y!==void 0?y:r,w={data:M,element:E.element,dropEffect:F,isActiveDueToStickiness:!1};return s({source:b,target:E.element.parentElement,input:T,result:[].concat(sr(x),[w])})}function c(u){var h=u.eventName,m=u.payload,y=Le(m.location.current.dropTargets),j;try{for(y.s();!(j=y.n()).done;){var b,D=j.value,T=n.get(D.element),O=_(_({},m),{},{self:D});T==null||(b=T[h])===null||b===void 0||b.call(T,O)}}catch(x){y.e(x)}finally{y.f()}}var f={onGenerateDragPreview:c,onDrag:c,onDragStart:c,onDrop:c,onDropTargetChange:function(h){var m=h.payload,y=new Set(m.location.current.dropTargets.map(function(q){return q.element})),j=new Set,b=Le(m.location.previous.dropTargets),D;try{for(b.s();!(D=b.n()).done;){var T,O=D.value;j.add(O.element);var x=n.get(O.element),R=y.has(O.element),E=_(_({},m),{},{self:O});if(x==null||(T=x.onDropTargetChange)===null||T===void 0||T.call(x,E),!R){var P;x==null||(P=x.onDragLeave)===null||P===void 0||P.call(x,E)}}}catch(q){b.e(q)}finally{b.f()}var M=Le(m.location.current.dropTargets),F;try{for(M.s();!(F=M.n()).done;){var w,H,U=F.value;if(!j.has(U.element)){var z=_(_({},m),{},{self:U}),L=n.get(U.element);L==null||(w=L.onDropTargetChange)===null||w===void 0||w.call(L,z),L==null||(H=L.onDragEnter)===null||H===void 0||H.call(L,z)}}}catch(q){M.e(q)}finally{M.f()}}};function p(u){f[u.eventName](u)}function v(u){var h=u.source,m=u.target,y=u.input,j=u.current,b=s({source:h,target:m,input:y});if(b.length>=j.length)return b;for(var D=Re(j),T=Re(b),O=[],x=0;x<D.length;x++){var R,E=D[x],P=T[x];if(P!=null){O.push(P);continue}var M=O[x-1],F=D[x-1];if((M==null?void 0:M.element)!==(F==null?void 0:F.element))break;var w=n.get(E.element);if(!w)break;var H={input:y,source:h,element:w.element};if(w.canDrop&&!w.canDrop(H)||!((R=w.getIsSticky)!==null&&R!==void 0&&R.call(w,H)))break;O.push(_(_({},E),{},{isActiveDueToStickiness:!0}))}return Re(O)}return{dropTargetForConsumers:d,getIsOver:v,dispatchEvent:p}}function Yn(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Gn(e))||t){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,l=!0,d=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return l=c.done,c},e:function(c){d=!0,i=c},f:function(){try{l||r.return==null||r.return()}finally{if(d)throw i}}}}function Gn(e,t){if(e){if(typeof e=="string")return yt(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yt(e,t):void 0}}function yt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xt(Object(r),!0).forEach(function(n){pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xn(){var e=new Set,t=null;function r(i){t&&(!i.canMonitor||i.canMonitor(t.canMonitorArgs))&&t.active.add(i)}function n(i){var l=Vn({},i);return e.add(l),r(l),function(){e.delete(l),t&&t.active.delete(l)}}function o(i){var l=i.eventName,d=i.payload;if(l==="onGenerateDragPreview"){t={canMonitorArgs:{initial:d.location.initial,source:d.source},active:new Set};var s=Yn(e),c;try{for(s.s();!(c=s.n()).done;){var f=c.value;r(f)}}catch(y){s.e(y)}finally{s.f()}}if(t){for(var p=Array.from(t.active),v=0,u=p;v<u.length;v++){var h=u[v];if(t.active.has(h)){var m;(m=h[l])===null||m===void 0||m.call(h,d)}}l==="onDrop"&&(t.active.clear(),t=null)}}return{dispatchEvent:o,monitorForConsumers:n}}function qn(e){var t=e.typeKey,r=e.mount,n=e.dispatchEventToSource,o=e.onPostDispatch,i=e.defaultDropEffect,l=Xn(),d=Kn({typeKey:t,defaultDropEffect:i});function s(p){n==null||n(p),d.dispatchEvent(p),l.dispatchEvent(p),o==null||o(p)}function c(p){var v=p.event,u=p.dragType;gt.start({event:v,dragType:u,getDropTargetsOver:d.getIsOver,dispatchEvent:s})}function f(){function p(){var v={canStart:gt.canStart,start:c};return r(v)}return Bn({typeKey:t,mount:p})}return{registerUsage:f,dropTarget:d.dropTargetForConsumers,monitor:l.monitorForConsumers}}var Qn=qe(function(){return navigator.userAgent.toLocaleLowerCase().includes("android")}),Zn="pdnd:android-fallback",bt="text/plain",Jn="text/uri-list",ea="application/vnd.pdnd",be=new WeakMap;function ta(e){return be.set(e.element,e),function(){be.delete(e.element)}}var wt=On(),Qe=qn({typeKey:"element",defaultDropEffect:"move",mount:function(t){return ke(wt.bindEvents(),J.bind(document,{type:"dragstart",listener:function(n){var o,i,l,d,s,c;if(t.canStart(n)&&!n.defaultPrevented&&n.dataTransfer){var f=n.target;if(!(f instanceof HTMLElement))return null;var p=be.get(f);if(!p)return null;var v=oe(n),u={element:p.element,dragHandle:(o=p.dragHandle)!==null&&o!==void 0?o:null,input:v};if(p.canDrag&&!p.canDrag(u))return n.preventDefault(),null;if(p.dragHandle){var h=or({x:v.clientX,y:v.clientY});if(!p.dragHandle.contains(h))return n.preventDefault(),null}var m=(i=(l=p.getInitialDataForExternal)===null||l===void 0?void 0:l.call(p,u))!==null&&i!==void 0?i:null;if(m)for(var y=0,j=Object.entries(m);y<j.length;y++){var b=Xe(j[y],2),D=b[0],T=b[1];n.dataTransfer.setData(D,T??"")}Qn()&&!n.dataTransfer.types.includes(bt)&&!n.dataTransfer.types.includes(Jn)&&n.dataTransfer.setData(bt,Zn),n.dataTransfer.setData(ea,"");var O={element:p.element,dragHandle:(d=p.dragHandle)!==null&&d!==void 0?d:null,data:(s=(c=p.getInitialData)===null||c===void 0?void 0:c.call(p,u))!==null&&s!==void 0?s:{}},x={type:"element",payload:O,startedFrom:"internal"};t.start({event:n,dragType:x})}}}))},dispatchEventToSource:function(t){var r,n,o=t.eventName,i=t.payload;(r=be.get(i.source.element))===null||r===void 0||(n=r[o])===null||n===void 0||n.call(r,i)},onPostDispatch:wt.getOnPostDispatch()}),ra=Qe.dropTarget,dr=Qe.monitor;function na(e){return ke(Qe.registerUsage(),ta(e),cr(e.element,{attribute:"draggable",value:"true"}))}function jt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jt(Object(r),!0).forEach(function(n){pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jt(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var aa={top:function(t,r){return Math.abs(r.y-t.top)},right:function(t,r){return Math.abs(t.right-r.x)},bottom:function(t,r){return Math.abs(t.bottom-r.y)},left:function(t,r){return Math.abs(r.x-t.left)}},ur=Symbol("closestEdge");function oa(e,t){var r,n,o=t.element,i=t.input,l=t.allowedEdges,d={x:i.clientX,y:i.clientY},s=o.getBoundingClientRect(),c=l.map(function(p){return{edge:p,value:aa[p](s,d)}}),f=(r=(n=c.sort(function(p,v){return p.value-v.value})[0])===null||n===void 0?void 0:n.edge)!==null&&r!==void 0?r:null;return Tt(Tt({},e),{},pe({},ur,f))}function fr(e){var t;return(t=e[ur])!==null&&t!==void 0?t:null}const[ia,De]=Or("useTodoContext must be used within TodoProvider");function kt(e){if(typeof e!="string")throw new TypeError("Input must be a string.");return e=e.trim().toLowerCase(),e=e.normalize("NFD").replace(/[\u0300-\u036f]/g,""),e=e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),e}const k=new Date,sa=[{id:"1",title:"Unit Testing",slug:"unit-testing",isImportant:!1,isDone:!0,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis incidunt nostrum repellat.",dueDate:new Date(k.getFullYear(),k.getMonth(),k.getDay()+1,4,0),assignedTo:[{uid:"1",name:"John Doe",avatar:null},{uid:"2",name:"Emilia Clarke",avatar:"/images/200x200.png"},{uid:"5",name:"Henry Curtis",avatar:null},{uid:"6",name:"Lance Tucker",avatar:"/images/200x200.png"}],labels:[{id:"2",color:"success",text:"Low"}]},{id:"2",title:"Chat App Fragment",slug:"chat-app-fragment",isImportant:!0,isDone:!1,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis incidunt nostrum repellat.",dueDate:new Date(k.getFullYear(),k.getMonth(),k.getDay()+1,11,30),assignedTo:[{uid:"2",name:"Emilia Clarke",avatar:"/images/200x200.png"}],labels:[{id:"3",color:"warning",text:"Medium"},{id:"5",color:"info",text:"Update"}]},{id:"3",title:"Design UI",slug:"design-ui",isImportant:!1,isDone:!1,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis incidunt nostrum repellat.",dueDate:null,assignedTo:[{uid:"3",name:"Travis Fuller",avatar:null}],labels:[{id:"2",color:"success",text:"Low"}]},{id:"4",title:"Launch New Homepage",slug:"launch-new-homepage",isImportant:!1,isDone:!1,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis incidunt nostrum repellat.",dueDate:new Date(k.getFullYear(),k.getMonth(),k.getDay()+2,12,0),assignedTo:[{uid:"4",name:"Alfredo Elliott",avatar:"/images/200x200.png"}],labels:[{id:"5",color:"info",text:"Update"}]},{id:"5",title:"Review Announcement Blog",slug:"review-announcement-blog",isImportant:!0,isDone:!1,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis incidunt nostrum repellat.",dueDate:new Date(k.getFullYear(),k.getMonth(),k.getDay()+2,8,0),assignedTo:[{uid:"5",name:"Henry Curtis",avatar:null}],labels:[{id:"3",color:"warning",text:"Medium"}]},{id:"6",title:"Sync With Google Analytics",slug:"sync-with-google-analytics",isImportant:!1,isDone:!0,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis incidunt nostrum repellat.",dueDate:new Date(k.getFullYear(),k.getMonth(),k.getDay(),9,0),assignedTo:[{uid:"6",name:"Lance Tucker",avatar:"/images/200x200.png"}],labels:[]},{id:"7",title:"Convert Figma To React",slug:"convert-figma-to-react",isImportant:!1,isDone:!1,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis incidunt nostrum repellat.",dueDate:new Date(k.getFullYear(),k.getMonth(),k.getDay()+9,9,0),assignedTo:[],labels:[{id:"2",color:"success",text:"Low"}]},{id:"8",title:"Design Setting Page",slug:"design-setting-page",isImportant:!1,isDone:!1,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis incidunt nostrum repellat.",dueDate:new Date(k.getFullYear(),k.getMonth(),k.getDay()+4,8,0),assignedTo:[{uid:"2",name:"Emilia Clarke",avatar:"/images/200x200.png"}],labels:[{id:"4",color:"error",text:"High"}]},{id:"9",title:"Backup Settings",slug:"backup-settings",isImportant:!0,isDone:!0,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis incidunt nostrum repellat.",dueDate:new Date(k.getFullYear(),k.getMonth(),k.getDay(),16,0),assignedTo:[{uid:"4",name:"Alfredo Elliott",avatar:"/images/200x200.png"}],labels:[{id:"1",color:"primary",text:"Daily"},{id:"4",color:"error",text:"High"}]},{id:"10",title:"Create Inventory Module",slug:"create-inventory-module",isImportant:!1,isDone:!1,description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Corporis incidunt nostrum repellat.",dueDate:new Date(k.getFullYear(),k.getMonth(),k.getDay()+2,16,0),assignedTo:[{uid:"6",name:"Lance Tucker",avatar:"/images/200x200.png"}],labels:[{id:"2",color:"success",text:"Low"}]}],la=[{uid:"1",name:"John Doe",avatar:null},{uid:"2",name:"Emilia Clarke",avatar:"/images/200x200.png"},{uid:"3",name:"Travis Fuller",avatar:null},{uid:"4",name:"Alfredo Elliott",avatar:"/images/200x200.png"},{uid:"5",name:"Henry Curtis",avatar:null},{uid:"6",name:"Lance Tucker",avatar:"/images/200x200.png"},{uid:"7",name:"Katrina West",avatar:"/images/200x200.png"}],Be=[{id:"1",color:"success",text:"Low"},{id:"2",color:"warning",text:"Medium"},{id:"3",color:"error",text:"High"},{id:"4",color:"info",text:"Update"}],ie=Symbol("todo");function ca({todo:e,index:t,instanceId:r}){return{[ie]:!0,todo:e,index:t,instanceId:r}}function da(){const e=new Map;function t({itemId:n,element:o}){return e.set(n,o),function(){e.delete(n)}}function r(n){return e.get(n)??null}return{register:t,getElement:r}}function ve(e,t){return e[t]===!0}function ua({index:e,items:t}){return t.length===1?"only":e===0?"first":e===t.length-1?"last":"middle"}const fa={todos:sa,searchQuery:"",error:null},A={SET_TODOS:"SET_TODOS",CREATE_TODO:"CREATE_TODO",UPDATE_TODO:"UPDATE_TODO",DELETE_TODO:"DELETE_TODO",TOGGLE_IMPORTANT:"TOGGLE_IMPORTANT",TOGGLE_DONE:"TOGGLE_DONE",SET_SEARCH:"SET_SEARCH",REORDER_TODOS:"REORDER_TODOS",SET_ERROR:"SET_ERROR"},pa={[A.SET_TODOS]:(e,t)=>({...e,todos:t,isLoading:!1}),[A.CREATE_TODO]:(e,t)=>({...e,todos:[t,...e.todos]}),[A.UPDATE_TODO]:(e,{id:t,updates:r})=>({...e,todos:e.todos.map(n=>n.id===t?{...n,...r}:n)}),[A.DELETE_TODO]:(e,t)=>({...e,todos:e.todos.filter(r=>r.id!==t)}),[A.TOGGLE_IMPORTANT]:(e,{id:t,value:r})=>({...e,todos:e.todos.map(n=>n.id===t?{...n,isImportant:r}:n)}),[A.TOGGLE_DONE]:(e,{id:t,value:r})=>({...e,todos:e.todos.map(n=>n.id===t?{...n,isDone:r}:n)}),[A.SET_SEARCH]:(e,t)=>({...e,searchQuery:t}),[A.REORDER_TODOS]:(e,{startIndex:t,finishIndex:r})=>{const n=gn({list:e.todos,startIndex:t,finishIndex:r});return{...e,todos:n}},[A.SET_ERROR]:(e,t)=>({...e,error:t,isLoading:!1})},ma=da(),Dt=()=>Symbol("instance-id"),ga=(e,t)=>{const r=pa[t.type];return r?r(e,t.payload):e};function pr({children:e}){const[t,r]=g.useReducer(ga,fa),{todos:n,searchQuery:o,error:i}=t,l=g.useCallback(({startIndex:m,indexOfTarget:y,closestEdgeOfTarget:j})=>{const b=un({startIndex:m,closestEdgeOfTarget:j,indexOfTarget:y,axis:"vertical"});b!==m&&r({type:A.REORDER_TODOS,payload:{startIndex:m,finishIndex:b}})},[]);g.useEffect(()=>dr({canMonitor({source:m}){return ve(m.data,ie)&&m.data.instanceId===Dt},onDrop({location:m,source:y}){const j=m.current.dropTargets[0];if(!j)return;const b=y.data,D=j.data;if(!ve(b,ie)||!ve(D,ie))return;const T=n.findIndex(O=>O.id===D.todo.id);T<0||l({startIndex:b.index,indexOfTarget:T,closestEdgeOfTarget:fr(D)})}}),[n,l]);const d=g.useCallback(()=>n.length,[n.length]),s=g.useCallback(m=>{const y={...m,id:Er(),slug:kt(m.title),createdAt:new Date().toISOString(),isDone:!1,isImportant:!1};r({type:A.CREATE_TODO,payload:y}),me.success("Todo created successfully")},[]),c=g.useCallback((m,y)=>{const j={...y,slug:kt(y.title),updatedAt:new Date().toISOString()};r({type:A.UPDATE_TODO,payload:{id:m,updates:j}}),me.success("Todo updated successfully")},[]),f=g.useCallback(m=>{r({type:A.DELETE_TODO,payload:m}),me.success("Todo deleted successfully")},[]),p=g.useCallback((m,y)=>{r({type:A.TOGGLE_IMPORTANT,payload:{id:m,value:y}})},[]),v=g.useCallback((m,y)=>{r({type:A.TOGGLE_DONE,payload:{id:m,value:y}}),y&&me.success("Todo marked as done")},[]),u=g.useCallback(m=>{r({type:A.SET_SEARCH,payload:m})},[]),h=g.useMemo(()=>({todos:n,registerTodo:ma.register,error:i,createTodo:s,updateTodo:c,deleteTodo:f,setIsImportant:p,setIsDone:v,setSearchQuery:u,searchQuery:o,reorderTodo:l,instanceId:Dt,getListLength:d}),[s,f,i,d,l,o,v,p,u,n,c]);return a.jsx(ia,{value:h,children:e})}pr.propTypes={children:N.node};function va(){const{close:e}=Nr();return a.jsxs("div",{className:"relative flex h-18 w-full shrink-0 items-center justify-between pl-4 pr-1 rtl:pl-1 rtl:pr-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Y,{size:9,initialColor:"info",initialVariant:"soft",children:a.jsx(Wr,{className:"size-5 stroke-2"})}),a.jsx("p",{className:"truncate text-base tracking-wider text-gray-800 dark:text-dark-100",children:"My Task"})]}),a.jsx(S,{onClick:e,isIcon:!0,variant:"flat",className:"size-7 rounded-full xl:hidden",children:a.jsx(Sr,{className:"size-6 rtl:rotate-180"})})]})}const ha=[{id:"1",name:"Open",link:"#",messageCount:0,icon:$r,color:"neutral"},{id:"2",name:"Working",link:"#",messageCount:0,icon:se,color:"neutral"},{id:"3",name:"Pending Review",link:"#",messageCount:0,icon:it,color:"neutral"},{id:"4",name:"Overdue",link:"#",messageCount:0,icon:_r,color:"neutral"},{id:"5",name:"Template",link:"#",messageCount:0,icon:se,color:"neutral"},{id:"6",name:"Completed",link:"#",messageCount:0,icon:it,color:"neutral"},{id:"7",name:"Cancelled",link:"#",messageCount:0,icon:$t,color:"neutral"}];function ya(){const[e,t]=g.useState("1");return a.jsx("ul",{className:"space-y-1.5 px-2 pt-4 font-medium",children:ha.map(r=>a.jsx("li",{children:a.jsxs(S,{color:r.id===e?"primary":r.color,variant:r.id===e?"soft":"flat",className:"group w-full justify-between gap-2 p-2 text-xs-plus",onClick:()=>t(r.id),children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(r.icon,{className:C("size-4.5 transition-colors",r.id!==e&&r.color==="neutral"&&"text-gray-400 group-hover:text-gray-500 group-focus:text-gray-500 dark:text-dark-300 dark:group-hover:text-dark-200 dark:group-focus:text-dark-200")}),a.jsx("span",{className:"truncate",children:r.name})]}),r.messageCount>0&&a.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:r.messageCount})]})},r.id))})}const xa=[{id:"1",color:"success",text:"Low"},{id:"2",color:"warning",text:"Medium"},{id:"3",color:"error",text:"High"},{id:"4",color:"info",text:"Urgent"}];function ba(){return a.jsxs("div",{children:[a.jsx("div",{className:"flex min-w-0 items-center justify-between px-4",children:a.jsx("span",{className:"truncate text-tiny-plus font-medium uppercase",children:"Labels"})}),a.jsx("ul",{className:"space-y-1.5 px-2 pt-1 font-medium",children:xa.map(e=>a.jsx("li",{children:a.jsx(S,{variant:"flat",className:"group w-full justify-between gap-2 p-2 text-xs-plus",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(cn,{className:`size-4.5 stroke-2 text-this dark:text-this-light this:${e.color}`}),a.jsx("span",{children:e.text})]})})},e.id))})]})}function Ze({onChange:e,value:t,name:r}){const[n,o]=g.useState(""),i=n===""?Be:Be.filter(d=>d.text.toLowerCase().replace(/\s+/g,"").includes(n.toLowerCase().replace(/\s+/g,""))),l=d=>{const s=t.filter(c=>c.id!==d);e(s)};return a.jsx(Kt,{value:t||null,onChange:d=>e([d[d.length-1]]),name:r,by:(d,s)=>(d==null?void 0:d.id)===(s==null?void 0:s.id),multiple:!0,children:({open:d})=>a.jsxs("div",{className:"relative",children:[a.jsx(qt,{children:"Priority:"}),a.jsxs("div",{className:C("relative mt-1.5 rounded-lg border transition-colors",d?"border-primary-600 dark:border-primary-500":"border-gray-300 hover:border-gray-400 dark:border-dark-450 dark:hover:border-dark-400"),children:[a.jsx("ul",{className:C("flex flex-wrap gap-1.5 border-b px-3 py-2 transition-colors",d?"border-primary-600 dark:border-primary-500":"border-gray-300 dark:border-dark-450"),children:t.length>0?t.map(s=>a.jsx("li",{children:a.jsx(At,{onClick:()=>l(s.id),component:"button",type:"button",color:s.color,variant:"soft",children:s.text})},s.id)):a.jsx("span",{className:"h-6 italic text-gray-400 dark:text-dark-300",children:"Not Selected Labels"})}),a.jsxs("div",{className:"relative w-full cursor-default overflow-hidden px-3 py-2 text-start outline-hidden ltr:pr-9 rtl:pl-9",children:[a.jsx(Yt,{as:Z,unstyled:!0,classNames:{root:"flex-1",input:"placeholder:text-gray-400 dark:placeholder:text-dark-300"},displayValue:s=>s.text,autoComplete:"off",onChange:s=>{o(s.target.value)},value:n,placeholder:"Select Priority"}),a.jsx(Gt,{className:"absolute inset-y-0 flex items-center ltr:right-0 ltr:pr-2 rtl:left-0 rtl:pl-2",children:a.jsx(It,{className:C("size-5 text-gray-400 transition-transform dark:text-dark-300",d&&"rotate-180"),"aria-hidden":"true"})})]}),a.jsx(fe,{as:Vt,enter:"transition ease-out",enterFrom:"opacity-0 translate-y-2",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-2",className:"absolute z-10 mt-1 max-h-60 w-full overflow-y-auto overflow-x-hidden rounded-lg border border-gray-300 bg-white py-1 shadow-lg shadow-gray-200/50 outline-hidden focus-visible:outline-hidden dark:border-dark-500 dark:bg-dark-700 dark:shadow-none",children:i.length===0&&n!==""?a.jsxs("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-800 dark:text-dark-100",children:["Nothing found for ",n]}):i.map(s=>a.jsx(Xt,{className:({selected:c,active:f})=>C("relative cursor-pointer select-none px-4 py-2 outline-hidden transition-colors",(f||c)&&"text-gray-800 dark:text-dark-100",f&&!c&&"bg-gray-100 dark:bg-dark-600",c&&"bg-gray-200 dark:bg-dark-500"),value:s,children:({selected:c})=>a.jsxs("span",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex min-w-0 items-center gap-3",children:[a.jsx("span",{className:C("size-2 rounded-full",s.color==="neutral"?"bg-gray-200 dark:bg-dark-400":`bg-this this:${s.color}`)}),a.jsx("span",{className:`block truncate ${c?"font-medium":"font-normal"}`,children:s.text})]}),c&&a.jsx(Qt,{className:"size-4.5"})]})},s.id))})]})]})})}Ze.propTypes={onChange:N.func,value:N.array,name:N.string};function Je({onChange:e,value:t,name:r}){const[n,o]=g.useState(""),i=la||[],l=n===""?i:i.filter(s=>s.name.toLowerCase().replace(/\s+/g,"").includes(n.toLowerCase().replace(/\s+/g,""))),d=s=>{const c=t.filter(f=>f.uid!==s);e(c)};return a.jsx(Kt,{value:t||null,onChange:e,name:r,by:(s,c)=>(s==null?void 0:s.uid)===(c==null?void 0:c.uid),multiple:!0,children:({open:s})=>a.jsxs("div",{className:"relative",children:[a.jsx(qt,{children:"Assigned To:"}),a.jsxs("div",{className:C("relative mt-1.5 rounded-lg border transition-colors",s?"border-primary-600 dark:border-primary-500":"border-gray-300 hover:border-gray-400 dark:border-dark-450 dark:hover:border-dark-400"),children:[a.jsx("ul",{className:C("flex flex-wrap gap-1.5 border-b px-3 py-2 transition-colors",s?"border-primary-600 dark:border-primary-500":"border-gray-300 dark:border-dark-450"),children:t.length>0?t.map(c=>a.jsx("li",{children:a.jsxs(At,{onClick:()=>d(c.uid),component:"button",type:"button",variant:"outlined",className:"flex h-6 rounded-full p-px align-top",children:[a.jsx(Y,{size:5.5,src:c.avatar,name:c.name,initialColor:"auto",classNames:{display:"text-tiny"}}),a.jsx("span",{className:"mx-2",children:c.name})]})},c.uid)):a.jsx("span",{className:"h-6 italic text-gray-400 dark:text-dark-300",children:"Unassigned"})}),a.jsxs("div",{className:"relative w-full cursor-default overflow-hidden px-3 py-2 text-start outline-hidden ltr:pr-9 rtl:pl-9",children:[a.jsx(Yt,{as:Z,unstyled:!0,classNames:{root:"flex-1",input:"placeholder:text-gray-400 dark:placeholder:text-dark-300"},displayValue:c=>c.text,autoComplete:"off",onChange:c=>{o(c.target.value)},value:n,placeholder:"Select Members"}),a.jsx(Gt,{className:"absolute inset-y-0 flex items-center ltr:right-0 ltr:pr-2 rtl:left-0 rtl:pl-2",children:a.jsx(It,{className:C("size-5 text-gray-400 transition-transform dark:text-dark-300",s&&"rotate-180"),"aria-hidden":"true"})})]}),a.jsx(fe,{as:Vt,enter:"transition ease-out",enterFrom:"opacity-0 translate-y-2",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-2",className:"absolute z-10 mt-1 max-h-60 w-full overflow-y-auto overflow-x-hidden rounded-lg border border-gray-300 bg-white py-1 shadow-lg shadow-gray-200/50 outline-hidden focus-visible:outline-hidden dark:border-dark-500 dark:bg-dark-700 dark:shadow-none",children:l.length===0&&n!==""?a.jsxs("div",{className:"relative cursor-default select-none px-4 py-2 text-gray-800 dark:text-dark-100",children:["Nothing found for ",n]}):l.map(c=>a.jsx(Xt,{className:({selected:f,active:p})=>C("relative cursor-pointer select-none px-3 py-2 outline-hidden transition-colors",(p||f)&&"text-gray-800 dark:text-dark-100",p&&!f&&"bg-gray-100 dark:bg-dark-600",f&&"bg-gray-200 dark:bg-dark-500"),value:c,children:({selected:f})=>a.jsxs("span",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"flex min-w-0 items-center gap-2",children:[a.jsx(Y,{size:6,name:c.name,src:c.avatar,initialColor:"auto",classNames:{display:"text-tiny-plus"}}),a.jsx("span",{className:`block truncate ${f?"font-medium":"font-normal"}`,children:c.name})]}),f&&a.jsx(Qt,{className:"size-4.5"})]})},c.uid))})]})]})})}Je.propTypes={onChange:N.func,value:N.array,name:N.string};const wa="Task",ja=_t().shape({subject:he().required("Please enter the title of task"),priority:ye(),assignedTo:ye(),description:he(),exp_end_date:Bt().nullable(),isImportant:ot(),isDone:ot()});function et({isOpen:e,close:t}){return a.jsxs(fe,{appear:!0,show:e,as:Zt,className:"relative z-100",onClose:t,children:[a.jsx(xe,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm transition-opacity dark:bg-black/40"}),a.jsx(xe,{as:Jt,enter:"ease-out transform-gpu transition-transform duration-200",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"ease-in transform-gpu transition-transform duration-200",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",className:"fixed right-0 top-0 flex h-full w-full max-w-3xl transform-gpu flex-col bg-white transition-transform duration-200 dark:bg-dark-700",children:a.jsx(mr,{close:t})})]})}function mr({close:e}){var s;const t=Kr(c=>{c&&e()}),{register:r,handleSubmit:n,formState:{errors:o},control:i,setFocus:l}=Ht({resolver:Wt(ja),defaultValues:{subject:"",priority:[],assignedTo:[],exp_end_date:null,description:"",isImportant:!1,isDone:!1}}),d=c=>{const p=new Date(c.exp_end_date).toISOString().split("T")[0];t.mutate({doctype:wa,body:{...c,exp_end_date:p,priority:c.priority[0].text}})};return g.useEffect(()=>{l("subject")},[l]),a.jsxs("form",{className:"flex h-full flex-col",onSubmit:n(d),autoComplete:"off",children:[a.jsxs("header",{className:"flex h-14 items-center justify-between bg-gray-100 px-4 dark:bg-dark-800",children:[a.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-dark-100",children:"New Todo"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex size-7 items-center justify-center",children:a.jsx(Ye,{...r("isDone"),className:"rounded-full"})}),a.jsx(G,{render:({field:{value:c,onChange:f,...p}})=>a.jsxs(Pt,{value:c?"on":"off",onChange:v=>f(v==="on"),component:S,isIcon:!0,variant:"flat",className:"size-7 rounded-full",...p,children:[a.jsx(Mt,{children:a.jsx(Ve,{className:"size-4.5 text-primary-600 dark:text-primary-400"})}),a.jsx(Lt,{children:a.jsx(se,{className:"size-4.5"})})]}),control:i,name:"isImportant"}),a.jsx(S,{onClick:e,isIcon:!0,variant:"flat",className:"size-7 rounded-full",children:a.jsx(zt,{className:"size-4.5"})})]})]}),a.jsxs("div",{className:"grid grow grid-cols-1 place-content-start gap-4 overflow-y-auto p-4 sm:grid-cols-2",children:[a.jsx(Z,{...r("subject"),error:(s=o==null?void 0:o.subject)==null?void 0:s.message,placeholder:"Enter Task Titile",label:"Title"}),a.jsx(G,{render:({field:{value:c,onChange:f,name:p,onBlur:v,disabled:u}})=>a.jsx(Ut,{label:"Due date:",placeholder:"Choose due date...",options:{enableTime:!0,time_24hr:!0},value:c||"",onChange:f,name:p,onBlur:v,disabled:u}),control:i,name:"exp_end_date"}),a.jsx(G,{render:({field:{onChange:c,value:f,name:p}})=>a.jsx(Ze,{onChange:c,value:f,name:p}),control:i,name:"priority"}),a.jsx(G,{render:({field:{onChange:c,value:f,name:p}})=>a.jsx(Je,{onChange:c,value:f,name:p}),control:i,name:"assignedTo"}),a.jsx(Rt,{classNames:{root:"sm:col-span-2"},...r("description"),label:"Description",placeholder:"Enter Task Description",rows:4})]}),a.jsxs("div",{className:"flex justify-end gap-4 border-t border-gray-200 p-4 dark:border-dark-500",children:[a.jsx(S,{onClick:e,variant:"flat",className:"min-w-[8rem]",children:"Cancel"}),a.jsx(S,{type:"submit",color:"primary",className:"min-w-[8rem]",children:"Save"})]})]})}et.propTypes={isOpen:N.bool,close:N.func};mr.propTypes={close:N.func};function Ta(){const{cardSkin:e}=Cr(),[t,{open:r,close:n}]=Ge();return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:C("prime-panel flex flex-col",e==="shadow-sm"?"shadow-soft dark:shadow-dark-900/60":"dark:border-dark-600/80 ltr:border-r rtl:border-l"),children:a.jsxs("div",{className:C("flex h-full grow flex-col bg-white ltr:pl-(--main-panel-width) rtl:pr-(--main-panel-width)",e==="shadow-sm"?"dark:bg-dark-750":"dark:bg-dark-900"),children:[a.jsx(va,{}),a.jsxs(Ar,{className:"hide-scrollbar grow overflow-y-auto",children:[a.jsx("div",{className:"px-4 pt-2",children:a.jsxs(S,{onClick:r,variant:"outlined",className:"w-full gap-2 rounded-full",children:[a.jsx(er,{className:"size-4"}),a.jsx("span",{children:"Add Task"})]})}),a.jsx(ya,{}),a.jsx("div",{className:"mx-4 my-4 h-px bg-gray-200 dark:bg-dark-500"}),a.jsx(ba,{})]})]})}),a.jsx(et,{isOpen:t,close:n})]})}function ka(){return a.jsxs(a.Fragment,{children:[a.jsx(Fr,{nav:Hr,activeSegment:"/apps"}),a.jsx(Ta,{})]})}const Da=new Date;function Oa(){const{locale:e}=Ft(),{searchQuery:t,setSearchQuery:r}=De(),[n,{open:o,close:i}]=Ge(),[l,d]=g.useState(!1),s=g.useRef();return g.useEffect(()=>{l&&s.current.focus()},[l]),a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx("p",{className:"text-xl font-medium text-gray-800 dark:text-dark-50",children:"My Day"}),a.jsx(Ea,{})]}),a.jsx("p",{className:"mt-1 text-xs",children:ze(Da).locale(e).format("dddd, MMM. DD")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Z,{value:t,onChange:c=>r(c.target.value),classNames:{root:"max-md:hidden",input:"h-8 text-xs-plus"},placeholder:"Search here...",prefix:a.jsx(Ce,{className:"size-4"})}),a.jsxs("div",{className:"flex",children:[a.jsx(S,{onClick:o,variant:"flat",isIcon:!0,className:"size-8",children:a.jsx(er,{className:"size-4.5"})}),a.jsx(S,{onClick:()=>d(!l),variant:"flat",isIcon:!0,className:"size-8 md:hidden",children:a.jsx(Ce,{className:"size-4.5"})}),a.jsx(S,{variant:"flat",isIcon:!0,className:"size-8",children:a.jsx(nn,{className:"size-4.5"})}),a.jsx(S,{variant:"flat",isIcon:!0,className:"size-8",children:a.jsx(tn,{className:"size-4.5"})})]})]})]}),l&&a.jsx("div",{className:"pt-4 md:hidden",children:a.jsx(Z,{ref:s,value:t,onChange:c=>r(c.target.value),placeholder:"Search here...",prefix:a.jsx(Ce,{className:"size-4"})})}),a.jsx(et,{isOpen:n,close:i})]})}function Ea(){return a.jsxs(qr,{as:"div",className:"relative inline-block text-start",children:[a.jsx(Qr,{as:S,isIcon:!0,className:"size-7 rounded-full",variant:"flat",children:a.jsx(Br,{className:"size-4.5"})}),a.jsxs(fe,{as:Zr,enter:"transition ease-out",enterFrom:"opacity-0 translate-y-2",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-2",className:"absolute z-100 mt-1.5 min-w-[11rem] rounded-lg border border-gray-300 bg-white py-1 font-medium shadow-lg shadow-gray-200/50 outline-hidden focus-visible:outline-hidden dark:border-dark-500 dark:bg-dark-700 dark:shadow-none ltr:left-0 rtl:right-0",children:[a.jsx(Ae,{children:({focus:e})=>a.jsx("button",{className:C("flex h-9 w-full items-center px-3 tracking-wide outline-hidden transition-colors",e&&"bg-gray-100 text-gray-800 dark:bg-dark-600 dark:text-dark-100"),children:a.jsx("span",{children:"Action"})})}),a.jsx(Ae,{children:({focus:e})=>a.jsx("button",{className:C("flex h-9 w-full items-center px-3 tracking-wide outline-hidden transition-colors",e&&"bg-gray-100 text-gray-800 dark:bg-dark-600 dark:text-dark-100"),children:a.jsx("span",{children:"Another Action"})})}),a.jsx(Ae,{children:({focus:e})=>a.jsx("button",{className:C("flex h-9 w-full items-center px-3 tracking-wide outline-hidden transition-colors",e&&"bg-gray-100 text-gray-800 dark:bg-dark-600 dark:text-dark-100"),children:a.jsx("span",{children:"Other Action"})})})]})]})}const gr=new Set,I=new WeakMap,ee=new WeakMap,V=new WeakMap,Ue=new WeakMap,Na=new WeakMap,te=new WeakMap,we=new WeakMap,ae=new WeakSet;let B,tt=0,rt=0;const W="__aa_tgt",de="__aa_del",je="__aa_new",Sa=e=>{const t=La(e);t&&t.forEach(r=>Ra(r))},Ca=e=>{e.forEach(t=>{t.target===B&&Ia(),I.has(t.target)&&X(t.target)})};function Aa(e){const t=Ue.get(e);t==null||t.disconnect();let r=I.get(e),n=0;const o=5;r||(r=re(e),I.set(e,r));const{offsetWidth:i,offsetHeight:l}=B,s=[r.top-o,i-(r.left+o+r.width),l-(r.top+o+r.height),r.left-o].map(f=>`${-1*Math.floor(f)}px`).join(" "),c=new IntersectionObserver(()=>{++n>1&&X(e)},{root:B,threshold:1,rootMargin:s});c.observe(e),Ue.set(e,c)}function X(e){clearTimeout(we.get(e));const t=Oe(e),r=ue(t)?500:t.duration;we.set(e,setTimeout(async()=>{const n=V.get(e);try{await(n==null?void 0:n.finished),I.set(e,re(e)),Aa(e)}catch{}},r))}function Ia(){clearTimeout(we.get(B)),we.set(B,setTimeout(()=>{gr.forEach(e=>xr(e,t=>vr(()=>X(t))))},100))}function Pa(e){setTimeout(()=>{Na.set(e,setInterval(()=>vr(X.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function vr(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let Ke,Q;const Ma=typeof window<"u"&&"ResizeObserver"in window;Ma&&(B=document.documentElement,Ke=new MutationObserver(Sa),Q=new ResizeObserver(Ca),window.addEventListener("scroll",()=>{rt=window.scrollY,tt=window.scrollX}),Q.observe(B));function La(e){return e.reduce((n,o)=>[...n,...Array.from(o.addedNodes),...Array.from(o.removedNodes)],[]).every(n=>n.nodeName==="#comment")?!1:e.reduce((n,o)=>{if(n===!1)return!1;if(o.target instanceof Element){if(Fe(o.target),!n.has(o.target)){n.add(o.target);for(let i=0;i<o.target.children.length;i++){const l=o.target.children.item(i);if(l){if(de in l)return!1;Fe(o.target,l),n.add(l)}}}if(o.removedNodes.length)for(let i=0;i<o.removedNodes.length;i++){const l=o.removedNodes[i];if(de in l)return!1;l instanceof Element&&(n.add(l),Fe(o.target,l),ee.set(l,[o.previousSibling,o.nextSibling]))}}return n},new Set)}function Fe(e,t){!t&&!(W in e)?Object.defineProperty(e,W,{value:e}):t&&!(W in t)&&Object.defineProperty(t,W,{value:e})}function Ra(e){var t;const r=e.isConnected,n=I.has(e);r&&ee.has(e)&&ee.delete(e),V.has(e)&&((t=V.get(e))===null||t===void 0||t.cancel()),je in e?Ot(e):n&&r?za(e):n&&!r?$a(e):Ot(e)}function $(e){return Number(e.replace(/[^0-9.\-]/g,""))}function Fa(e){let t=e.parentElement;for(;t;){if(t.scrollLeft||t.scrollTop)return{x:t.scrollLeft,y:t.scrollTop};t=t.parentElement}return{x:0,y:0}}function re(e){const t=e.getBoundingClientRect(),{x:r,y:n}=Fa(e);return{top:t.top+n,left:t.left+r,width:t.width,height:t.height}}function hr(e,t,r){let n=t.width,o=t.height,i=r.width,l=r.height;const d=getComputedStyle(e);if(d.getPropertyValue("box-sizing")==="content-box"){const c=$(d.paddingTop)+$(d.paddingBottom)+$(d.borderTopWidth)+$(d.borderBottomWidth),f=$(d.paddingLeft)+$(d.paddingRight)+$(d.borderRightWidth)+$(d.borderLeftWidth);n-=f,i-=f,o-=c,l-=c}return[n,i,o,l].map(Math.round)}function Oe(e){return W in e&&te.has(e[W])?te.get(e[W]):{duration:250,easing:"ease-in-out"}}function yr(e){if(W in e)return e[W]}function nt(e){const t=yr(e);return t?ae.has(t):!1}function xr(e,...t){t.forEach(r=>r(e,te.has(e)));for(let r=0;r<e.children.length;r++){const n=e.children.item(r);n&&t.forEach(o=>o(n,te.has(n)))}}function at(e){return Array.isArray(e)?e:[e]}function ue(e){return typeof e=="function"}function za(e){const t=I.get(e),r=re(e);if(!nt(e))return I.set(e,r);let n;if(!t)return;const o=Oe(e);if(typeof o!="function"){const i=t.left-r.left,l=t.top-r.top,[d,s,c,f]=hr(e,t,r),p={transform:`translate(${i}px, ${l}px)`},v={transform:"translate(0, 0)"};d!==s&&(p.width=`${d}px`,v.width=`${s}px`),c!==f&&(p.height=`${c}px`,v.height=`${f}px`),n=e.animate([p,v],{duration:o.duration,easing:o.easing})}else{const[i]=at(o(e,"remain",t,r));n=new Animation(i),n.play()}V.set(e,n),I.set(e,r),n.addEventListener("finish",X.bind(null,e))}function Ot(e){je in e&&delete e[je];const t=re(e);I.set(e,t);const r=Oe(e);if(!nt(e))return;let n;if(typeof r!="function")n=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:r.duration*1.5,easing:"ease-in"});else{const[o]=at(r(e,"add",t));n=new Animation(o),n.play()}V.set(e,n),n.addEventListener("finish",X.bind(null,e))}function Et(e,t){var r;e.remove(),I.delete(e),ee.delete(e),V.delete(e),(r=Ue.get(e))===null||r===void 0||r.disconnect(),setTimeout(()=>{if(de in e&&delete e[de],Object.defineProperty(e,je,{value:!0,configurable:!0}),t&&e instanceof HTMLElement)for(const n in t)e.style[n]=""},0)}function $a(e){var t;if(!ee.has(e)||!I.has(e))return;const[r,n]=ee.get(e);Object.defineProperty(e,de,{value:!0,configurable:!0});const o=window.scrollX,i=window.scrollY;if(n&&n.parentNode&&n.parentNode instanceof Element?n.parentNode.insertBefore(e,n):r&&r.parentNode?r.parentNode.appendChild(e):(t=yr(e))===null||t===void 0||t.appendChild(e),!nt(e))return Et(e);const[l,d,s,c]=Wa(e),f=Oe(e),p=I.get(e);(o!==tt||i!==rt)&&Ha(e,o,i,f);let v,u={position:"absolute",top:`${l}px`,left:`${d}px`,width:`${s}px`,height:`${c}px`,margin:"0",pointerEvents:"none",transformOrigin:"center",zIndex:"100"};if(!ue(f))Object.assign(e.style,u),v=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:f.duration,easing:"ease-out"});else{const[h,m]=at(f(e,"remove",p));(m==null?void 0:m.styleReset)!==!1&&(u=(m==null?void 0:m.styleReset)||u,Object.assign(e.style,u)),v=new Animation(h),v.play()}V.set(e,v),v.addEventListener("finish",Et.bind(null,e,u))}function Ha(e,t,r,n){const o=tt-t,i=rt-r,l=document.documentElement.style.scrollBehavior;if(getComputedStyle(B).scrollBehavior==="smooth"&&(document.documentElement.style.scrollBehavior="auto"),window.scrollTo(window.scrollX+o,window.scrollY+i),!e.parentElement)return;const s=e.parentElement;let c=s.clientHeight,f=s.clientWidth;const p=performance.now();function v(){requestAnimationFrame(()=>{if(!ue(n)){const u=c-s.clientHeight,h=f-s.clientWidth;p+n.duration>performance.now()?(window.scrollTo({left:window.scrollX-h,top:window.scrollY-u}),c=s.clientHeight,f=s.clientWidth,v()):document.documentElement.style.scrollBehavior=l}})}v()}function Wa(e){const t=I.get(e),[r,,n]=hr(e,t,re(e));let o=e.parentElement;for(;o&&(getComputedStyle(o).position==="static"||o instanceof HTMLBodyElement);)o=o.parentElement;o||(o=document.body);const i=getComputedStyle(o),l=I.get(o)||re(o),d=Math.round(t.top-l.top)-$(i.borderTopWidth),s=Math.round(t.left-l.left)-$(i.borderLeftWidth);return[d,s,r,n]}function _a(e,t={}){return Ke&&Q&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&!ue(t)&&!t.disrespectUserMotionPreference||(ae.add(e),getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),xr(e,X,Pa,o=>Q==null?void 0:Q.observe(o)),ue(t)?te.set(e,t):te.set(e,{duration:250,easing:"ease-in-out",...t}),Ke.observe(e,{childList:!0}),gr.add(e))),Object.freeze({parent:e,enable:()=>{ae.add(e)},disable:()=>{ae.delete(e)},isEnabled:()=>ae.has(e)})}function Ba(e){const[t,r]=g.useState(),n=g.useMemo(()=>e,[]),o=g.useCallback(l=>{l instanceof HTMLElement?r(_a(l,n)):r(void 0)},[n]),i=g.useCallback(l=>{t&&(l?t.enable():t.disable())},[t]);return[o,i]}function Ua(){return{x:0,y:0}}function Ka(e){var t=e.render,r=e.nativeSetDragImage,n=e.getOffset,o=n===void 0?Ua:n,i=document.createElement("div");Object.assign(i.style,{position:"fixed",top:0,left:0,zIndex:ir,pointerEvents:"none"}),document.body.append(i);var l=t({container:i});queueMicrotask(function(){var c=o({container:i});if(Te()){var f=i.getBoundingClientRect();if(f.width===0)return;i.style.left="-".concat(f.width-1e-4,"px")}r==null||r(i,c.x,c.y)});function d(){s(),l==null||l(),document.body.removeChild(i)}var s=dr({onDragStart:d,onDrop:d})}function Ya(e){return function(t){var r=t.container;return Object.assign(r.style,{borderLeft:"".concat(e.x," solid transparent"),borderTop:"".concat(e.y," solid transparent")}),{x:0,y:0}}}const Ga="Task",Va=_t().shape({subject:he().required("Please enter the title of task"),priority:ye(),assignedTo:ye(),description:he(),exp_end_date:Bt().nullable()});function br({data:e,isOpen:t,close:r}){return a.jsx(fe,{appear:!0,show:t,as:g.Fragment,children:a.jsxs(Zt,{as:"div",className:"relative z-100",onClose:r,children:[a.jsx(xe,{as:"div",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"fixed inset-0 bg-gray-900/50 backdrop-blur-sm transition-opacity dark:bg-black/40"}),a.jsx(xe,{as:Jt,enter:"ease-out transform-gpu transition-transform duration-200",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"ease-in transform-gpu transition-transform duration-200",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",className:"fixed right-0 top-0 flex h-full w-full max-w-3xl transform-gpu flex-col bg-white transition-transform duration-200 dark:bg-dark-700",children:a.jsx(wr,{data:e,close:r})})]})})}function wr({data:e,close:t}){var v;const{setIsDone:r,setIsImportant:n,deleteTodo:o}=De(),i=Yr(u=>{u&&t()}),{register:l,handleSubmit:d,formState:{errors:s},control:c,setFocus:f}=Ht({resolver:Wt(Va),defaultValues:{subject:e.subject,priority:[Be.find(u=>u.text==e.priority)],assignedTo:e.assignedTo??[],exp_end_date:e.exp_end_date,description:e.description}});g.useEffect(()=>{f("subject")},[f]);const p=u=>{const m=new Date(u.exp_end_date).toISOString().split("T")[0];i.mutate({doctype:Ga,body:{...u,id:e.id,exp_end_date:m,priority:u.priority[0].text}})};return a.jsxs("form",{className:"flex h-full flex-col",onSubmit:d(p),autoComplete:"off",children:[a.jsxs("header",{className:"flex h-14 items-center justify-between bg-gray-100 px-4 dark:bg-dark-800",children:[a.jsx("h3",{className:"text-base font-medium text-gray-800 dark:text-dark-100",children:"Edit Todo"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex size-7 items-center justify-center",children:a.jsx(Ye,{checked:e.isDone,onChange:u=>r(e.id,u.target.checked),className:"rounded-full"})}),a.jsxs(Pt,{value:e.isImportant?"on":"off",onChange:u=>n(e.id,u==="on"),component:S,isIcon:!0,variant:"flat",className:"size-7 rounded-full",children:[a.jsx(Mt,{children:a.jsx(Ve,{className:"size-4.5 text-primary-600 dark:text-primary-400"})}),a.jsx(Lt,{children:a.jsx(se,{className:"size-4.5"})})]}),a.jsx(S,{onClick:t,isIcon:!0,variant:"flat",className:"size-7 rounded-full",children:a.jsx(zt,{className:"size-4.5"})})]})]}),a.jsxs("div",{className:"grid grow grid-cols-1 place-content-start gap-4 overflow-y-auto p-4 sm:grid-cols-2",children:[a.jsx(Z,{...l("subject"),error:(v=s==null?void 0:s.subject)==null?void 0:v.message,placeholder:"Enter Task Titile",label:"Title"}),a.jsx(G,{render:({field:{value:u,onChange:h,name:m,onBlur:y,disabled:j}})=>a.jsx(Ut,{label:"Due date:",placeholder:"Choose due date...",options:{enableTime:!0,time_24hr:!0},value:u||"",onChange:h,name:m,onBlur:y,disabled:j}),control:c,name:"exp_end_date"}),a.jsx(G,{render:({field:{onChange:u,value:h,name:m}})=>a.jsx(Ze,{onChange:u,value:h,name:m}),control:c,name:"priority"}),a.jsx(G,{render:({field:{onChange:u,value:h,name:m}})=>a.jsx(Je,{onChange:u,value:h,name:m}),control:c,name:"assignedTo"}),a.jsx(Rt,{classNames:{root:"sm:col-span-2"},...l("description"),label:"Description",placeholder:"Enter Task Description",rows:4})]}),a.jsxs("div",{className:"flex justify-between border-t border-gray-200 p-4 dark:border-dark-500",children:[a.jsxs(S,{onClick:()=>o(e.id),color:"error",className:"gap-2 md:min-w-[8rem]",children:[a.jsx($t,{className:"size-4.5"}),a.jsx("div",{className:"max-md:hidden",children:"Delete"})]}),a.jsxs("div",{className:"flex justify-end gap-4",children:[a.jsx(S,{onClick:t,variant:"flat",className:"min-w-[8rem]",children:"Cancel"}),a.jsx(S,{type:"submit",color:"primary",className:"min-w-[8rem]",children:"Save"})]})]})]})}br.propTypes={data:N.object,isOpen:N.bool,close:N.func};wr.propTypes={data:N.object,close:N.func};function jr({edge:e,gap:t="0px"}){const r=`calc(-0.5 * (${t} + 1px))`;return a.jsx("div",{className:C("absolute bg-primary-600 before:absolute before:size-2.5 before:rounded-full before:border-2 before:border-primary-600",(e==="top"||e==="bottom")&&"inset-x-0 h-0.5 w-full before:-left-2.5 before:-translate-y-1/2",(e==="left"||e==="right")&&"inset-y-0 h-full w-0.5 before:-top-2.5 before:-translate-x-1/2",e==="top"&&"top-(--llo)",e==="bottom"&&"bottom-(--llo)",e==="left"&&"left-(--llo)",e==="right"&&"right-(--llo)"),style:{"--llo":r}})}jr.propTypes={edge:N.string,gap:N.string};const Nt={type:"idle"},St={type:"dragging"},Xa=Ur()==="Safari";function Tr({todo:e,index:t}){var E,P,M,F;const{locale:r}=Ft(),[n,{open:o,close:i}]=Ge(),{setIsDone:l,setIsImportant:d,searchQuery:s,registerTodo:c,instanceId:f}=De(),{id:p,subject:v,exp_end_date:u,priority:h,color:m,assignedTo:y,isImportant:j,isDone:b}=e,[D,T]=g.useState(Nt),[O,x]=g.useState(null),R=g.useRef(null);return g.useEffect(()=>{const w=R.current,H=R.current;Se(w),Se(H);const U=ca({todo:e,index:t,instanceId:f});return ke(c({itemId:U.todo.id,element:w}),na({element:w,dragHandle:H,getInitialData:()=>U,onGenerateDragPreview({nativeSetDragImage:z}){Xa&&Ka({nativeSetDragImage:z,getOffset:Ya({x:"16px",y:"8px"}),render({container:L}){return T({type:"preview-safari",container:L}),()=>T(St)}})},onDragStart(){T(St)},onDrop(){T(Nt)}}),ra({element:w,canDrop({source:z}){return ve(z.data,ie)&&z.data.instanceId===f},getData({input:z}){return oa(U,{element:w,input:z,allowedEdges:["top","bottom"]})},onDrag({self:z,source:L}){if(L.element===w){x(null);return}const Ee=fr(z.data),Ne=L.data.index;Se(typeof Ne=="number");const kr=t===Ne-1,Dr=t===Ne+1;if(kr&&Ee==="bottom"||Dr&&Ee==="top"){x(null);return}x(Ee)},onDragLeave(){x(null)},onDrop(){x(null)}}))},[t,f,c,e]),a.jsxs(a.Fragment,{children:[a.jsx("div",{className:C(t!==0&&"pt-4"),ref:R,children:a.jsxs(Pr,{onClick:o,children:[a.jsxs("div",{className:C("cursor-pointer rounded-lg px-4 py-3",D.type==="dragging"&&"bg-primary-500/15"),children:[a.jsxs("div",{className:"flex min-w-0 items-center gap-2 sm:gap-3",children:[a.jsx(Ye,{checked:b,onClick:w=>w.stopPropagation(),onChange:w=>l(p,w.target.checked),className:"rounded-full"}),a.jsx("h2",{className:C(b&&"line-through","cursor-pointer truncate font-medium text-gray-800 dark:text-dark-100"),children:a.jsx(Xr,{query:s,children:v})})]}),a.jsxs("div",{className:"mt-1 flex items-end justify-between",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 text-xs",children:[u&&a.jsxs(a.Fragment,{children:[a.jsx("p",{children:ze(u).locale(r).format("DD MMM")}),a.jsx("div",{className:"my-0.5 w-px self-stretch bg-gray-200 dark:bg-dark-500"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(on,{className:"size-3.5"}),a.jsx("span",{children:ze(u).locale(r).format("HH:mm")})]})]}),h&&a.jsxs(g.Fragment,{children:[u&&a.jsx("div",{className:"my-0.5 w-px self-stretch bg-gray-200 dark:bg-dark-500"}),a.jsxs("span",{className:`inline-flex items-center gap-2 leading-none text-[${m}]`,children:[a.jsx("span",{className:"size-2 rounded-full bg-this dark:bg-this-lighter"}),a.jsx("span",{className:"text-this dark:text-this-lighter",children:h})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(S,{onClick:w=>{w.stopPropagation(),d(p,!j)},isIcon:!0,variant:"flat",className:"size-6 rounded-full",children:j?a.jsx(Ve,{className:"size-4 text-primary-600 dark:text-primary-400"}):a.jsx(se,{className:"size-4"})}),y&&y.length>0&&a.jsx("div",{className:"flex -space-x-1 ",children:y.length>3?a.jsxs(a.Fragment,{children:[a.jsx(Y,{size:6,src:(E=y[0])==null?void 0:E.avatar,name:(P=y[0])==null?void 0:P.name,initialColor:"auto",classNames:{root:"origin-bottom transition-transform hover:z-10 hover:scale-125",display:"text-tiny-plus ring-1 ring-white dark:ring-dark-700"}}),a.jsx(Y,{size:6,src:(M=y[1])==null?void 0:M.avatar,name:(F=y[1])==null?void 0:F.name,classNames:{root:"origin-bottom transition-transform hover:z-10 hover:scale-125",display:"text-tiny-plus ring-1 ring-white dark:ring-dark-700"}}),a.jsxs(Y,{size:6,classNames:{root:"origin-bottom transition-transform hover:z-10 hover:scale-125",display:"text-tiny-plus ring-1 ring-white dark:ring-dark-700"},initialColor:"primary",children:["+",y.length-2]})]}):y.map(w=>a.jsx(Y,{size:6,src:w.avatar,name:w.name,classNames:{root:"origin-bottom transition-transform hover:z-10 hover:scale-125",display:"text-tiny-plus ring-1 ring-white dark:ring-dark-700"}},w.uid))})]})]})]}),O&&a.jsx(jr,{edge:O,gap:"19px"})]})}),D.type==="preview-safari"&&Ir.createPortal(a.jsx(Mr,{className:"h-5 max-w-sm rounded-sm bg-gray-200 px-1 py-0.5 text-black dark:bg-dark-800 dark:text-white",children:e.subject}),D.container),a.jsx(br,{isOpen:n,close:i,data:e})]})}Tr.propTypes={todo:N.object,index:N.number,position:N.string};const Ct="Task",qa=["subject","project","status","priority","color","exp_end_date","progress"];function Qa(){const{todos:e,searchQuery:t}=De(),[r]=Ba();Lr();const[n,o]=g.useState([]),{data:i}=Gr({doctype:Ct,fields:JSON.stringify(qa)}),[l,d]=g.useState({doctype:Ct,page:1,page_length:10,fields:null}),{data:s}=Vr(l);g.useEffect(()=>{if(i!=null&&i.fields){const v=i==null?void 0:i.fields.map(u=>u.fieldname);d({...l,fields:JSON.stringify([...v,"name"])})}},[i]),g.useEffect(()=>{s!=null&&s.data&&o(s==null?void 0:s.data)},[s]);const c=new Map(n.map((v,u)=>[v.id,u])),f=t.toLowerCase().replace(/\s+/g,""),p=f?n.filter(v=>v.subject.toLowerCase().replace(/\s+/g,"").includes(f.toLowerCase())):n;return a.jsx("div",{ref:r,className:"relative flex flex-col pt-4",children:p.map(v=>{const u=c.get(v.id);return a.jsx(Tr,{todo:v,index:u,position:ua({index:u,items:e})},v.id)})})}function Eo(){return a.jsx(Rr,{title:"My Task",children:a.jsxs(pr,{children:[a.jsx(zr,{}),a.jsxs("main",{className:"main-content transition-content grid grid-cols-1 place-content-start px-(--margin-x) pb-6 pt-5",children:[a.jsx(Oa,{}),a.jsx(Qa,{})]}),a.jsx(ka,{})]})})}export{Eo as default};
