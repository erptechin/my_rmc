import{a8 as fe,K as q,Z as B,y as K,o as S,A as j,L as W,$ as ee,_ as te,O as U,e as pe,w as be,f as xe,Q as X,a9 as me,c as T,a5 as k,q as P,aa as N,U as ge,T as G}from"./transition-DROugojl.js";import{a as l,R as C}from"./index-BaNo5CCb.js";import{f as re,s as ve}from"./frozen-DK-nIxO2.js";function Te({onFocus:e}){let[t,n]=l.useState(!0),r=fe();return t?C.createElement(re,{as:"button",type:"button",features:ve.Focusable,onFocus:u=>{u.preventDefault();let s,a=50;function i(){if(a--<=0){s&&cancelAnimationFrame(s);return}if(e()){if(cancelAnimationFrame(s),!r.current)return;n(!1);return}s=requestAnimationFrame(i)}s=requestAnimationFrame(i)}}):null}const ne=l.createContext(null);function Pe(){return{groups:new Map,get(e,t){var n;let r=this.groups.get(e);r||(r=new Map,this.groups.set(e,r));let u=(n=r.get(t))!=null?n:0;r.set(t,u+1);let s=Array.from(r.keys()).indexOf(t);function a(){let i=r.get(t);i>1?r.set(t,i-1):r.delete(t)}return[s,a]}}}function he({children:e}){let t=l.useRef(Pe());return l.createElement(ne.Provider,{value:t},e)}function ae(e){let t=l.useContext(ne);if(!t)throw new Error("You must wrap your component in a <StableCollection>");let n=l.useId(),[r,u]=t.current.get(e,n);return l.useEffect(()=>u,[]),r}var Ie=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ie||{}),$e=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))($e||{}),Ee=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(Ee||{});let ye={0(e,t){var n;let r=G(e.tabs,c=>c.current),u=G(e.panels,c=>c.current),s=r.filter(c=>{var m;return!((m=c.current)!=null&&m.hasAttribute("disabled"))}),a={...e,tabs:r,panels:u};if(t.index<0||t.index>r.length-1){let c=U(Math.sign(t.index-e.selectedIndex),{[-1]:()=>1,0:()=>U(Math.sign(t.index),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0});if(s.length===0)return a;let m=U(c,{0:()=>r.indexOf(s[0]),1:()=>r.indexOf(s[s.length-1])});return{...a,selectedIndex:m===-1?e.selectedIndex:m}}let i=r.slice(0,t.index),h=[...r.slice(t.index),...i].find(c=>s.includes(c));if(!h)return a;let x=(n=r.indexOf(h))!=null?n:e.selectedIndex;return x===-1&&(x=e.selectedIndex),{...a,selectedIndex:x}},1(e,t){if(e.tabs.includes(t.tab))return e;let n=e.tabs[e.selectedIndex],r=G([...e.tabs,t.tab],s=>s.current),u=e.selectedIndex;return e.info.current.isControlled||(u=r.indexOf(n),u===-1&&(u=e.selectedIndex)),{...e,tabs:r,selectedIndex:u}},2(e,t){return{...e,tabs:e.tabs.filter(n=>n!==t.tab)}},3(e,t){return e.panels.includes(t.panel)?e:{...e,panels:G([...e.panels,t.panel],n=>n.current)}},4(e,t){return{...e,panels:e.panels.filter(n=>n!==t.panel)}}},V=l.createContext(null);V.displayName="TabsDataContext";function D(e){let t=l.useContext(V);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,D),n}return t}let z=l.createContext(null);z.displayName="TabsActionsContext";function J(e){let t=l.useContext(z);if(t===null){let n=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,J),n}return t}function we(e,t){return U(t.type,ye,e,t)}let Se="div";function Ae(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:u=!1,onChange:s,selectedIndex:a=null,...i}=e;const h=r?"vertical":"horizontal",x=u?"manual":"auto";let c=a!==null,m=B({isControlled:c}),A=K(t),[p,d]=l.useReducer(we,{info:m,selectedIndex:a??n,tabs:[],panels:[]}),M=l.useMemo(()=>({selectedIndex:p.selectedIndex}),[p.selectedIndex]),R=B(s||(()=>{})),$=B(p.tabs),b=l.useMemo(()=>({orientation:h,activation:x,...p}),[h,x,p]),F=S(f=>(d({type:1,tab:f}),()=>d({type:2,tab:f}))),O=S(f=>(d({type:3,panel:f}),()=>d({type:4,panel:f}))),g=S(f=>{v.current!==f&&R.current(f),c||d({type:0,index:f})}),v=B(c?e.selectedIndex:p.selectedIndex),y=l.useMemo(()=>({registerTab:F,registerPanel:O,change:g}),[]);j(()=>{d({type:0,index:a??n})},[a]),j(()=>{if(v.current===void 0||p.tabs.length<=0)return;let f=G(p.tabs,E=>E.current);f.some((E,w)=>p.tabs[w]!==E)&&g(f.indexOf(p.tabs[v.current]))});let H={ref:A},L=W();return C.createElement(he,null,C.createElement(z.Provider,{value:y},C.createElement(V.Provider,{value:b},b.tabs.length<=0&&C.createElement(Te,{onFocus:()=>{var f,E;for(let w of $.current)if(((f=w.current)==null?void 0:f.tabIndex)===0)return(E=w.current)==null||E.focus(),!0;return!1}}),L({ourProps:H,theirProps:i,slot:M,defaultTag:Se,name:"Tabs"}))))}let Fe="div";function ke(e,t){let{orientation:n,selectedIndex:r}=D("Tab.List"),u=K(t),s=l.useMemo(()=>({selectedIndex:r}),[r]),a=e,i={ref:u,role:"tablist","aria-orientation":n};return W()({ourProps:i,theirProps:a,slot:s,defaultTag:Fe,name:"Tabs.List"})}let Ce="button";function De(e,t){var n,r;let u=l.useId(),{id:s=`headlessui-tabs-tab-${u}`,disabled:a=!1,autoFocus:i=!1,...h}=e,{orientation:x,activation:c,selectedIndex:m,tabs:A,panels:p}=D("Tab"),d=J("Tab"),M=D("Tab"),[R,$]=l.useState(null),b=l.useRef(null),F=K(b,t,$);j(()=>d.registerTab(b),[d,b]);let O=ae("tabs"),g=A.indexOf(b);g===-1&&(g=O);let v=g===m,y=S(o=>{var I;let _=o();if(_===N.Success&&c==="auto"){let ce=(I=ge(b))==null?void 0:I.activeElement,Z=M.tabs.findIndex(de=>de.current===ce);Z!==-1&&d.change(Z)}return _}),H=S(o=>{let I=A.map(_=>_.current).filter(Boolean);if(o.key===T.Space||o.key===T.Enter){o.preventDefault(),o.stopPropagation(),d.change(g);return}switch(o.key){case T.Home:case T.PageUp:return o.preventDefault(),o.stopPropagation(),y(()=>k(I,P.First));case T.End:case T.PageDown:return o.preventDefault(),o.stopPropagation(),y(()=>k(I,P.Last))}if(y(()=>U(x,{vertical(){return o.key===T.ArrowUp?k(I,P.Previous|P.WrapAround):o.key===T.ArrowDown?k(I,P.Next|P.WrapAround):N.Error},horizontal(){return o.key===T.ArrowLeft?k(I,P.Previous|P.WrapAround):o.key===T.ArrowRight?k(I,P.Next|P.WrapAround):N.Error}}))===N.Success)return o.preventDefault()}),L=l.useRef(!1),f=S(()=>{var o;L.current||(L.current=!0,(o=b.current)==null||o.focus({preventScroll:!0}),d.change(g),me(()=>{L.current=!1}))}),E=S(o=>{o.preventDefault()}),{isFocusVisible:w,focusProps:se}=ee({autoFocus:i}),{isHovered:Q,hoverProps:le}=pe({isDisabled:a}),{pressed:Y,pressProps:ue}=be({disabled:a}),oe=l.useMemo(()=>({selected:v,hover:Q,active:Y,focus:w,autofocus:i,disabled:a}),[v,Q,w,Y,i,a]),ie=te({ref:F,onKeyDown:H,onMouseDown:E,onClick:f,id:s,role:"tab",type:xe(e,R),"aria-controls":(r=(n=p[g])==null?void 0:n.current)==null?void 0:r.id,"aria-selected":v,tabIndex:v?0:-1,disabled:a||void 0,autoFocus:i},se,le,ue);return W()({ourProps:ie,theirProps:h,slot:oe,defaultTag:Ce,name:"Tabs.Tab"})}let Me="div";function Re(e,t){let{selectedIndex:n}=D("Tab.Panels"),r=K(t),u=l.useMemo(()=>({selectedIndex:n}),[n]),s=e,a={ref:r};return W()({ourProps:a,theirProps:s,slot:u,defaultTag:Me,name:"Tabs.Panels"})}let Oe="div",Le=X.RenderStrategy|X.Static;function Ge(e,t){var n,r,u,s;let a=l.useId(),{id:i=`headlessui-tabs-panel-${a}`,tabIndex:h=0,...x}=e,{selectedIndex:c,tabs:m,panels:A}=D("Tab.Panel"),p=J("Tab.Panel"),d=l.useRef(null),M=K(d,t);j(()=>p.registerPanel(d),[p,d]);let R=ae("panels"),$=A.indexOf(d);$===-1&&($=R);let b=$===c,{isFocusVisible:F,focusProps:O}=ee(),g=l.useMemo(()=>({selected:b,focus:F}),[b,F]),v=te({ref:M,id:i,role:"tabpanel","aria-labelledby":(r=(n=m[$])==null?void 0:n.current)==null?void 0:r.id,tabIndex:b?h:-1},O),y=W();return!b&&((u=x.unmount)==null||u)&&!((s=x.static)!=null&&s)?C.createElement(re,{"aria-hidden":"true",...v}):y({ourProps:v,theirProps:x,slot:g,defaultTag:Oe,features:Le,visible:b,name:"Tabs.Panel"})}let Ue=q(De),qe=q(Ae),Ke=q(ke),We=q(Re),_e=q(Ge),He=Object.assign(Ue,{Group:qe,List:Ke,Panels:We,Panel:_e});export{qe as B,_e as K,He as T,Ke as W,We as j};
