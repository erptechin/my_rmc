import{a as j,U as ge,aC as Y,g as xe,R as U,aJ as ye,aK as ve,aF as we,x as be,j as m,B as O,l as z,aG as Fe,ag as Se,J as W,aH as De,k as X,A as Ee,aI as Ie,u as Ce,e as ke,n as je,I as Ne,S as Re}from"./index-DJCRVuSQ.js";import{C as L,u as Pe,o as Me}from"./index.esm-DQiX-Hel.js";import{T as Te,a as ee,b as Le,h as Oe,c as Be,S as Ae}from"./dynamicForms-DKpAhEnc.js";import{P as Ve}from"./Page-CwuWEgA-.js";import{y as Ye,j as ze,Y as He}from"./dialog-ucQmBadb.js";import{F as $e}from"./XMarkIcon-CJN7MIBc.js";import{z as te,a0 as re}from"./transition-Dl7QWFSZ.js";import{l as _e,S as We,R as Ze}from"./popover-BsNqYrGm.js";import{D as Ue}from"./Datepicker-WRzgPfFk.js";import{a as Ke,c as Ge,u as Je,d as qe}from"./useApiHook-EN4uydSk.js";import{F as Qe}from"./DocumentPlusIcon-DwUf3x8r.js";import"./ConfirmModal-DF1Ii47W.js";import"./combobox-1uIRIDYu.js";import"./frozen-CqEqO5xj.js";import"./active-element-history-ghjRqaad.js";import"./index-BbYSWd4f.js";import"./iconBase-DF2TW36A.js";import"./PlusIcon-Dl0XvSZx.js";import"./useUnmount-Bb4VWa-_.js";import"./floating-ui.dom-CtcSe9Ld.js";import"./useMutation-BVKLc8bP.js";function Xe(I,S){if(I==null)return{};var w={};for(var p in I)if({}.hasOwnProperty.call(I,p)){if(S.indexOf(p)!==-1)continue;w[p]=I[p]}return w}function et({title:I,titleId:S,...w},p){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":S},w),I?j.createElement("title",{id:S},I):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const tt=j.forwardRef(et);function rt({title:I,titleId:S,...w},p){return j.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:p,"aria-labelledby":S},w),I?j.createElement("title",{id:S},I):null,j.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const nt=j.forwardRef(rt);var $={exports:{}},it=$.exports,ne;function at(){return ne||(ne=1,function(I,S){(function(p,b){I.exports=b(ge())})(it,function(w){return function(p){var b={};function h(d){if(b[d])return b[d].exports;var t=b[d]={exports:{},id:d,loaded:!1};return p[d].call(t.exports,t,t.exports,h),t.loaded=!0,t.exports}return h.m=p,h.c=b,h.p="",h(0)}([function(p,b,h){var d=Object.assign||function(v){for(var i=1;i<arguments.length;i++){var n=arguments[i];for(var f in n)Object.prototype.hasOwnProperty.call(n,f)&&(v[f]=n[f])}return v};function t(v,i){var n={};for(var f in v)i.indexOf(f)>=0||Object.prototype.hasOwnProperty.call(v,f)&&(n[f]=v[f]);return n}var r=h(1),e=h(2),a=h(9),o=h(10),c=h(11),s=h(12),g=h(13),l=h(14),x=h(15),F=e({componentDidMount:function(){this.init()},componentDidUpdate:function(i){var n=this,f=(n.props.options||{}).phoneRegionCode,u=n.props.value,C=n.properties;n.updateRegisteredEvents(n.props),i.value!==u&&u!==void 0&&u!==null&&(u=u.toString(),u!==n.properties.result&&(n.properties.initValue=u,n.onInput(u,!0)));var P=(i.options||{}).phoneRegionCode;P!==f&&f&&f!==n.properties.phoneRegionCode&&(n.properties.phoneRegionCode=f,n.initPhoneFormatter(),n.onInput(n.properties.result)),l.setSelection(n.element,n.state.cursorPosition,C.document)},updateRegisteredEvents:function(i){var n=this,f=n.registeredEvents,u=f.onKeyDown,C=f.onChange,P=f.onFocus,B=f.onBlur,A=f.onInit;i.onInit&&i.onInit!==A&&(n.registeredEvents.onInit=i.onInit),i.onChange&&i.onChange!==C&&(n.registeredEvents.onChange=i.onChange),i.onFocus&&i.onFocus!==P&&(n.registeredEvents.onFocus=i.onFocus),i.onBlur&&i.onBlur!==B&&(n.registeredEvents.onBlur=i.onBlur),i.onKeyDown&&i.onKeyDown!==u&&(n.registeredEvents.onKeyDown=i.onKeyDown)},getInitialState:function(){var i=this,n=i.props,f=n.value,u=n.options,C=n.onKeyDown,P=n.onChange,B=n.onFocus,A=n.onBlur,_=n.onInit;return i.registeredEvents={onInit:_||l.noop,onChange:P||l.noop,onFocus:B||l.noop,onBlur:A||l.noop,onKeyDown:C||l.noop},u||(u={}),u.initValue=f,i.properties=x.assign({},u),{value:i.properties.result,cursorPosition:0}},init:function(){var i=this,n=i.properties;if(!n.numeral&&!n.phone&&!n.creditCard&&!n.time&&!n.date&&n.blocksLength===0&&!n.prefix){i.onInput(n.initValue),i.registeredEvents.onInit(i);return}n.maxLength=l.getMaxLength(n.blocks),i.isAndroid=l.isAndroid(),i.initPhoneFormatter(),i.initDateFormatter(),i.initTimeFormatter(),i.initNumeralFormatter(),(n.initValue||n.prefix&&!n.noImmediatePrefix)&&i.onInput(n.initValue),i.registeredEvents.onInit(i)},initNumeralFormatter:function(){var i=this,n=i.properties;n.numeral&&(n.numeralFormatter=new a(n.numeralDecimalMark,n.numeralIntegerScale,n.numeralDecimalScale,n.numeralThousandsGroupStyle,n.numeralPositiveOnly,n.stripLeadingZeroes,n.prefix,n.signBeforePrefix,n.tailPrefix,n.delimiter))},initTimeFormatter:function(){var i=this,n=i.properties;n.time&&(n.timeFormatter=new c(n.timePattern,n.timeFormat),n.blocks=n.timeFormatter.getBlocks(),n.blocksLength=n.blocks.length,n.maxLength=l.getMaxLength(n.blocks))},initDateFormatter:function(){var i=this,n=i.properties;n.date&&(n.dateFormatter=new o(n.datePattern,n.dateMin,n.dateMax),n.blocks=n.dateFormatter.getBlocks(),n.blocksLength=n.blocks.length,n.maxLength=l.getMaxLength(n.blocks))},initPhoneFormatter:function(){var i=this,n=i.properties;if(n.phone)try{n.phoneFormatter=new s(new n.root.Cleave.AsYouTypeFormatter(n.phoneRegionCode),n.delimiter)}catch{throw new Error("Please include phone-type-formatter.{country}.js lib")}},setRawValue:function(i){var n=this,f=n.properties;i=i!=null?i.toString():"",f.numeral&&(i=i.replace(".",f.numeralDecimalMark)),f.postDelimiterBackspace=!1,n.onChange({target:{value:i},stopPropagation:l.noop,preventDefault:l.noop,persist:l.noop})},getRawValue:function(){var i=this,n=i.properties,f=n.result;return n.rawValueTrimPrefix&&(f=l.getPrefixStrippedValue(f,n.prefix,n.prefixLength,n.result,n.delimiter,n.delimiters,n.noImmediatePrefix,n.tailPrefix,n.signBeforePrefix)),n.numeral?f=n.numeralFormatter?n.numeralFormatter.getRawValue(f):"":f=l.stripDelimiters(f,n.delimiter,n.delimiters),f},getISOFormatDate:function(){var i=this,n=i.properties;return n.date?n.dateFormatter.getISOFormatDate():""},getISOFormatTime:function(){var i=this,n=i.properties;return n.time?n.timeFormatter.getISOFormatTime():""},onInit:function(i){return i},onKeyDown:function(i){var n=this,f=n.properties,u=i.which||i.keyCode;n.lastInputValue=f.result,n.isBackward=u===8,n.registeredEvents.onKeyDown(i)},onFocus:function(i){var n=this,f=n.properties;f.prefix&&f.noImmediatePrefix&&!i.target.value&&n.onInput(f.prefix),i.target.rawValue=n.getRawValue(),i.target.value=f.result,n.registeredEvents.onFocus(i),l.fixPrefixCursor(n.element,f.prefix,f.delimiter,f.delimiters)},onBlur:function(i){var n=this,f=n.properties;i.target.rawValue=n.getRawValue(),i.target.value=f.result,n.registeredEvents.onBlur(i)},onChange:function(i){var n=this,f=n.properties;n.isBackward=n.isBackward||i.inputType==="deleteContentBackward";var u=l.getPostDelimiter(n.lastInputValue,f.delimiter,f.delimiters);n.isBackward&&u?f.postDelimiterBackspace=u:f.postDelimiterBackspace=!1,n.onInput(i.target.value),i.target.rawValue=n.getRawValue(),i.target.value=f.result,n.registeredEvents.onChange(i)},onInput:function(i,n){var f=this,u=f.properties,C=l.getPostDelimiter(i,u.delimiter,u.delimiters);if(!n&&!u.numeral&&u.postDelimiterBackspace&&!C&&(i=l.headStr(i,i.length-u.postDelimiterBackspace.length)),u.phone){u.prefix&&(!u.noImmediatePrefix||i.length)?u.result=u.prefix+u.phoneFormatter.format(i).slice(u.prefix.length):u.result=u.phoneFormatter.format(i),f.updateValueState();return}if(u.numeral){u.prefix&&u.noImmediatePrefix&&i.length===0?u.result="":u.result=u.numeralFormatter.format(i),f.updateValueState();return}if(u.date&&(i=u.dateFormatter.getValidatedDate(i)),u.time&&(i=u.timeFormatter.getValidatedTime(i)),i=l.stripDelimiters(i,u.delimiter,u.delimiters),i=l.getPrefixStrippedValue(i,u.prefix,u.prefixLength,u.result,u.delimiter,u.delimiters,u.noImmediatePrefix,u.tailPrefix,u.signBeforePrefix),i=u.numericOnly?l.strip(i,/[^\d]/g):i,i=u.uppercase?i.toUpperCase():i,i=u.lowercase?i.toLowerCase():i,u.prefix&&(u.tailPrefix?i=i+u.prefix:i=u.prefix+i,u.blocksLength===0)){u.result=i,f.updateValueState();return}u.creditCard&&f.updateCreditCardPropsByValue(i),i=u.maxLength>0?l.headStr(i,u.maxLength):i,u.result=l.getFormattedValue(i,u.blocks,u.blocksLength,u.delimiter,u.delimiters,u.delimiterLazyShow),f.updateValueState()},updateCreditCardPropsByValue:function(i){var n=this,f=n.properties,u;l.headStr(f.result,4)!==l.headStr(i,4)&&(u=g.getInfo(i,f.creditCardStrictMode),f.blocks=u.blocks,f.blocksLength=f.blocks.length,f.maxLength=l.getMaxLength(f.blocks),f.creditCardType!==u.type&&(f.creditCardType=u.type,f.onCreditCardTypeChanged.call(n,f.creditCardType)))},updateValueState:function(){var i=this,n=i.properties;if(!i.element){i.setState({value:n.result});return}var f=i.element.selectionEnd,u=i.element.value,C=n.result;if(i.lastInputValue=C,f=l.getNextCursorPosition(f,u,C,n.delimiter,n.delimiters),i.isAndroid){window.setTimeout(function(){i.setState({value:C,cursorPosition:f})},1);return}i.setState({value:C,cursorPosition:f})},render:function(){var i=this,n=i.props;n.value,n.options,n.onKeyDown,n.onFocus,n.onBlur,n.onChange,n.onInit;var f=n.htmlRef,u=t(n,["value","options","onKeyDown","onFocus","onBlur","onChange","onInit","htmlRef"]);return r.createElement("input",d({type:"text",ref:function(P){i.element=P,f&&f.apply(this,arguments)},value:i.state.value,onKeyDown:i.onKeyDown,onChange:i.onChange,onFocus:i.onFocus,onBlur:i.onBlur},u))}});p.exports=F},function(p,b){p.exports=w},function(p,b,h){var d=h(1),t=h(3);if(typeof d>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var r=new d.Component().updater;p.exports=t(d.Component,d.isValidElement,r)},function(p,b,h){var d=h(4),t=h(5),r=h(6),e="mixins";function a(c){return c}function o(c,s,g){var l=[],x={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},F={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},v={displayName:function(D,y){D.displayName=y},mixins:function(D,y){if(y)for(var E=0;E<y.length;E++)n(D,y[E])},childContextTypes:function(D,y){D.childContextTypes=d({},D.childContextTypes,y)},contextTypes:function(D,y){D.contextTypes=d({},D.contextTypes,y)},getDefaultProps:function(D,y){D.getDefaultProps?D.getDefaultProps=C(D.getDefaultProps,y):D.getDefaultProps=y},propTypes:function(D,y){D.propTypes=d({},D.propTypes,y)},statics:function(D,y){f(D,y)},autobind:function(){}};function i(D,y){var E=x.hasOwnProperty(y)?x[y]:null;J.hasOwnProperty(y)&&r(E==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",y),D&&r(E==="DEFINE_MANY"||E==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",y)}function n(D,y){if(y){r(typeof y!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),r(!s(y),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var E=D.prototype,M=E.__reactAutoBindPairs;y.hasOwnProperty(e)&&v.mixins(D,y.mixins);for(var k in y)if(y.hasOwnProperty(k)&&k!==e){var N=y[k],T=E.hasOwnProperty(k);if(i(T,k),v.hasOwnProperty(k))v[k](D,N);else{var Q=x.hasOwnProperty(k),me=typeof N=="function",he=me&&!Q&&!T&&y.autobind!==!1;if(he)M.push(k,N),E[k]=N;else if(T){var V=x[k];r(Q&&(V==="DEFINE_MANY_MERGED"||V==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",V,k),V==="DEFINE_MANY_MERGED"?E[k]=C(E[k],N):V==="DEFINE_MANY"&&(E[k]=P(E[k],N))}else E[k]=N}}}}function f(D,y){if(y)for(var E in y){var M=y[E];if(y.hasOwnProperty(E)){var k=E in v;r(!k,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',E);var N=E in D;if(N){var T=F.hasOwnProperty(E)?F[E]:null;r(T==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",E),D[E]=C(D[E],M);return}D[E]=M}}}function u(D,y){r(D&&y&&typeof D=="object"&&typeof y=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var E in y)y.hasOwnProperty(E)&&(r(D[E]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",E),D[E]=y[E]);return D}function C(D,y){return function(){var M=D.apply(this,arguments),k=y.apply(this,arguments);if(M==null)return k;if(k==null)return M;var N={};return u(N,M),u(N,k),N}}function P(D,y){return function(){D.apply(this,arguments),y.apply(this,arguments)}}function B(D,y){var E=y.bind(D);return E}function A(D){for(var y=D.__reactAutoBindPairs,E=0;E<y.length;E+=2){var M=y[E],k=y[E+1];D[M]=B(D,k)}}var _={componentDidMount:function(){this.__isMounted=!0}},fe={componentWillUnmount:function(){this.__isMounted=!1}},J={replaceState:function(D,y){this.updater.enqueueReplaceState(this,D,y)},isMounted:function(){return!!this.__isMounted}},q=function(){};d(q.prototype,c.prototype,J);function pe(D){var y=function(M,k,N){this.__reactAutoBindPairs.length&&A(this),this.props=M,this.context=k,this.refs=t,this.updater=N||g,this.state=null;var T=this.getInitialState?this.getInitialState():null;r(typeof T=="object"&&!Array.isArray(T),"%s.getInitialState(): must return an object or null",y.displayName||"ReactCompositeComponent"),this.state=T};y.prototype=new q,y.prototype.constructor=y,y.prototype.__reactAutoBindPairs=[],l.forEach(n.bind(null,y)),n(y,_),n(y,D),n(y,fe),y.getDefaultProps&&(y.defaultProps=y.getDefaultProps()),r(y.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var E in x)y.prototype[E]||(y.prototype[E]=null);return y}return pe}p.exports=o},function(p,b){var h=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable;function r(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function e(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de",Object.getOwnPropertyNames(a)[0]==="5")return!1;for(var o={},c=0;c<10;c++)o["_"+String.fromCharCode(c)]=c;var s=Object.getOwnPropertyNames(o).map(function(l){return o[l]});if(s.join("")!=="0123456789")return!1;var g={};return"abcdefghijklmnopqrst".split("").forEach(function(l){g[l]=l}),Object.keys(Object.assign({},g)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}p.exports=e()?Object.assign:function(a,o){for(var c,s=r(a),g,l=1;l<arguments.length;l++){c=Object(arguments[l]);for(var x in c)d.call(c,x)&&(s[x]=c[x]);if(h){g=h(c);for(var F=0;F<g.length;F++)t.call(c,g[F])&&(s[g[F]]=c[g[F]])}}return s}},function(p,b){var h={};p.exports=h},function(p,b){function h(d,t,r,e,a,o,c,s){if(!d){var g;if(t===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,e,a,o,c,s],x=0;g=new Error(t.replace(/%s/g,function(){return l[x++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}}p.exports=h},function(p,b,h){var d=h(8),t=d;p.exports=t},function(p,b){function h(t){return function(){return t}}var d=function(){};d.thatReturns=h,d.thatReturnsFalse=h(!1),d.thatReturnsTrue=h(!0),d.thatReturnsNull=h(null),d.thatReturnsThis=function(){return this},d.thatReturnsArgument=function(t){return t},p.exports=d},function(p,b){var h=function d(t,r,e,a,o,c,s,g,l,x){var F=this;F.numeralDecimalMark=t||".",F.numeralIntegerScale=r>0?r:0,F.numeralDecimalScale=e>=0?e:2,F.numeralThousandsGroupStyle=a||d.groupStyle.thousand,F.numeralPositiveOnly=!!o,F.stripLeadingZeroes=c!==!1,F.prefix=s||s===""?s:"",F.signBeforePrefix=!!g,F.tailPrefix=!!l,F.delimiter=x||x===""?x:",",F.delimiterRE=x?new RegExp("\\"+x,"g"):""};h.groupStyle={thousand:"thousand",lakh:"lakh",wan:"wan",none:"none"},h.prototype={getRawValue:function(t){return t.replace(this.delimiterRE,"").replace(this.numeralDecimalMark,".")},format:function(t){var r=this,e,a,o,c,s="";switch(t=t.replace(/[A-Za-z]/g,"").replace(r.numeralDecimalMark,"M").replace(/[^\dM-]/g,"").replace(/^\-/,"N").replace(/\-/g,"").replace("N",r.numeralPositiveOnly?"":"-").replace("M",r.numeralDecimalMark),r.stripLeadingZeroes&&(t=t.replace(/^(-)?0+(?=\d)/,"$1")),a=t.slice(0,1)==="-"?"-":"",typeof r.prefix<"u"?r.signBeforePrefix?o=a+r.prefix:o=r.prefix+a:o=a,c=t,t.indexOf(r.numeralDecimalMark)>=0&&(e=t.split(r.numeralDecimalMark),c=e[0],s=r.numeralDecimalMark+e[1].slice(0,r.numeralDecimalScale)),a==="-"&&(c=c.slice(1)),r.numeralIntegerScale>0&&(c=c.slice(0,r.numeralIntegerScale)),r.numeralThousandsGroupStyle){case h.groupStyle.lakh:c=c.replace(/(\d)(?=(\d\d)+\d$)/g,"$1"+r.delimiter);break;case h.groupStyle.wan:c=c.replace(/(\d)(?=(\d{4})+$)/g,"$1"+r.delimiter);break;case h.groupStyle.thousand:c=c.replace(/(\d)(?=(\d{3})+$)/g,"$1"+r.delimiter);break}return r.tailPrefix?a+c.toString()+(r.numeralDecimalScale>0?s.toString():"")+r.prefix:o+c.toString()+(r.numeralDecimalScale>0?s.toString():"")}},p.exports=h},function(p,b){var h=function(t,r,e){var a=this;a.date=[],a.blocks=[],a.datePattern=t,a.dateMin=r.split("-").reverse().map(function(o){return parseInt(o,10)}),a.dateMin.length===2&&a.dateMin.unshift(0),a.dateMax=e.split("-").reverse().map(function(o){return parseInt(o,10)}),a.dateMax.length===2&&a.dateMax.unshift(0),a.initBlocks()};h.prototype={initBlocks:function(){var t=this;t.datePattern.forEach(function(r){r==="Y"?t.blocks.push(4):t.blocks.push(2)})},getISOFormatDate:function(){var t=this,r=t.date;return r[2]?r[2]+"-"+t.addLeadingZero(r[1])+"-"+t.addLeadingZero(r[0]):""},getBlocks:function(){return this.blocks},getValidatedDate:function(t){var r=this,e="";return t=t.replace(/[^\d]/g,""),r.blocks.forEach(function(a,o){if(t.length>0){var c=t.slice(0,a),s=c.slice(0,1),g=t.slice(a);switch(r.datePattern[o]){case"d":c==="00"?c="01":parseInt(s,10)>3?c="0"+s:parseInt(c,10)>31&&(c="31");break;case"m":c==="00"?c="01":parseInt(s,10)>1?c="0"+s:parseInt(c,10)>12&&(c="12");break}e+=c,t=g}}),this.getFixedDateString(e)},getFixedDateString:function(t){var r=this,e=r.datePattern,a=[],o=0,c=0,s=0,g=0,l=0,x=0,F,v,i,n=!1;t.length===4&&e[0].toLowerCase()!=="y"&&e[1].toLowerCase()!=="y"&&(g=e[0]==="d"?0:2,l=2-g,F=parseInt(t.slice(g,g+2),10),v=parseInt(t.slice(l,l+2),10),a=this.getFixedDate(F,v,0)),t.length===8&&(e.forEach(function(u,C){switch(u){case"d":o=C;break;case"m":c=C;break;default:s=C;break}}),x=s*2,g=o<=s?o*2:o*2+2,l=c<=s?c*2:c*2+2,F=parseInt(t.slice(g,g+2),10),v=parseInt(t.slice(l,l+2),10),i=parseInt(t.slice(x,x+4),10),n=t.slice(x,x+4).length===4,a=this.getFixedDate(F,v,i)),t.length===4&&(e[0]==="y"||e[1]==="y")&&(l=e[0]==="m"?0:2,x=2-l,v=parseInt(t.slice(l,l+2),10),i=parseInt(t.slice(x,x+2),10),n=t.slice(x,x+2).length===2,a=[0,v,i]),t.length===6&&(e[0]==="Y"||e[1]==="Y")&&(l=e[0]==="m"?0:4,x=2-.5*l,v=parseInt(t.slice(l,l+2),10),i=parseInt(t.slice(x,x+4),10),n=t.slice(x,x+4).length===4,a=[0,v,i]),a=r.getRangeFixedDate(a),r.date=a;var f=a.length===0?t:e.reduce(function(u,C){switch(C){case"d":return u+(a[0]===0?"":r.addLeadingZero(a[0]));case"m":return u+(a[1]===0?"":r.addLeadingZero(a[1]));case"y":return u+(n?r.addLeadingZeroForYear(a[2],!1):"");case"Y":return u+(n?r.addLeadingZeroForYear(a[2],!0):"")}},"");return f},getRangeFixedDate:function(t){var r=this,e=r.datePattern,a=r.dateMin||[],o=r.dateMax||[];return!t.length||a.length<3&&o.length<3||e.find(function(c){return c.toLowerCase()==="y"})&&t[2]===0?t:o.length&&(o[2]<t[2]||o[2]===t[2]&&(o[1]<t[1]||o[1]===t[1]&&o[0]<t[0]))?o:a.length&&(a[2]>t[2]||a[2]===t[2]&&(a[1]>t[1]||a[1]===t[1]&&a[0]>t[0]))?a:t},getFixedDate:function(t,r,e){return t=Math.min(t,31),r=Math.min(r,12),e=parseInt(e||0,10),(r<7&&r%2===0||r>8&&r%2===1)&&(t=Math.min(t,r===2?this.isLeapYear(e)?29:28:30)),[t,r,e]},isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},addLeadingZero:function(t){return(t<10?"0":"")+t},addLeadingZeroForYear:function(t,r){return r?(t<10?"000":t<100?"00":t<1e3?"0":"")+t:(t<10?"0":"")+t}},p.exports=h},function(p,b){var h=function(t,r){var e=this;e.time=[],e.blocks=[],e.timePattern=t,e.timeFormat=r,e.initBlocks()};h.prototype={initBlocks:function(){var t=this;t.timePattern.forEach(function(){t.blocks.push(2)})},getISOFormatTime:function(){var t=this,r=t.time;return r[2]?t.addLeadingZero(r[0])+":"+t.addLeadingZero(r[1])+":"+t.addLeadingZero(r[2]):""},getBlocks:function(){return this.blocks},getTimeFormatOptions:function(){var t=this;return String(t.timeFormat)==="12"?{maxHourFirstDigit:1,maxHours:12,maxMinutesFirstDigit:5,maxMinutes:60}:{maxHourFirstDigit:2,maxHours:23,maxMinutesFirstDigit:5,maxMinutes:60}},getValidatedTime:function(t){var r=this,e="";t=t.replace(/[^\d]/g,"");var a=r.getTimeFormatOptions();return r.blocks.forEach(function(o,c){if(t.length>0){var s=t.slice(0,o),g=s.slice(0,1),l=t.slice(o);switch(r.timePattern[c]){case"h":parseInt(g,10)>a.maxHourFirstDigit?s="0"+g:parseInt(s,10)>a.maxHours&&(s=a.maxHours+"");break;case"m":case"s":parseInt(g,10)>a.maxMinutesFirstDigit?s="0"+g:parseInt(s,10)>a.maxMinutes&&(s=a.maxMinutes+"");break}e+=s,t=l}}),this.getFixedTimeString(e)},getFixedTimeString:function(t){var r=this,e=r.timePattern,a=[],o=0,c=0,s=0,g=0,l=0,x=0,F,v,i;return t.length===6&&(e.forEach(function(n,f){switch(n){case"s":o=f*2;break;case"m":c=f*2;break;case"h":s=f*2;break}}),x=s,l=c,g=o,F=parseInt(t.slice(g,g+2),10),v=parseInt(t.slice(l,l+2),10),i=parseInt(t.slice(x,x+2),10),a=this.getFixedTime(i,v,F)),t.length===4&&r.timePattern.indexOf("s")<0&&(e.forEach(function(n,f){switch(n){case"m":c=f*2;break;case"h":s=f*2;break}}),x=s,l=c,F=0,v=parseInt(t.slice(l,l+2),10),i=parseInt(t.slice(x,x+2),10),a=this.getFixedTime(i,v,F)),r.time=a,a.length===0?t:e.reduce(function(n,f){switch(f){case"s":return n+r.addLeadingZero(a[2]);case"m":return n+r.addLeadingZero(a[1]);case"h":return n+r.addLeadingZero(a[0])}},"")},getFixedTime:function(t,r,e){return e=Math.min(parseInt(e||0,10),60),r=Math.min(r,60),t=Math.min(t,60),[t,r,e]},addLeadingZero:function(t){return(t<10?"0":"")+t}},p.exports=h},function(p,b){var h=function(t,r){var e=this;e.delimiter=r||r===""?r:" ",e.delimiterRE=r?new RegExp("\\"+r,"g"):"",e.formatter=t};h.prototype={setFormatter:function(t){this.formatter=t},format:function(t){var r=this;r.formatter.clear(),t=t.replace(/[^\d+]/g,""),t=t.replace(/^\+/,"B").replace(/\+/g,"").replace("B","+"),t=t.replace(r.delimiterRE,"");for(var e="",a,o=!1,c=0,s=t.length;c<s;c++)a=r.formatter.inputDigit(t.charAt(c)),/[\s()-]/g.test(a)?(e=a,o=!0):o||(e=a);return e=e.replace(/[()]/g,""),e=e.replace(/[\s-]/g,r.delimiter),e}},p.exports=h},function(p,b){var h={blocks:{uatp:[4,5,6],amex:[4,6,5],diners:[4,6,4],discover:[4,4,4,4],mastercard:[4,4,4,4],dankort:[4,4,4,4],instapayment:[4,4,4,4],jcb15:[4,6,5],jcb:[4,4,4,4],maestro:[4,4,4,4],visa:[4,4,4,4],mir:[4,4,4,4],unionPay:[4,4,4,4],general:[4,4,4,4]},re:{uatp:/^(?!1800)1\d{0,14}/,amex:/^3[47]\d{0,13}/,discover:/^(?:6011|65\d{0,2}|64[4-9]\d?)\d{0,12}/,diners:/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/,mastercard:/^(5[1-5]\d{0,2}|22[2-9]\d{0,1}|2[3-7]\d{0,2})\d{0,12}/,dankort:/^(5019|4175|4571)\d{0,12}/,instapayment:/^63[7-9]\d{0,13}/,jcb15:/^(?:2131|1800)\d{0,11}/,jcb:/^(?:35\d{0,2})\d{0,12}/,maestro:/^(?:5[0678]\d{0,2}|6304|67\d{0,2})\d{0,12}/,mir:/^220[0-4]\d{0,12}/,visa:/^4\d{0,15}/,unionPay:/^(62|81)\d{0,14}/},getStrictBlocks:function(t){var r=t.reduce(function(e,a){return e+a},0);return t.concat(19-r)},getInfo:function(t,r){var e=h.blocks,a=h.re;r=!!r;for(var o in a)if(a[o].test(t)){var c=e[o];return{type:o,blocks:r?this.getStrictBlocks(c):c}}return{type:"unknown",blocks:r?this.getStrictBlocks(e.general):e.general}}};p.exports=h},function(p,b){var h={noop:function(){},strip:function(t,r){return t.replace(r,"")},getPostDelimiter:function(t,r,e){if(e.length===0)return t.slice(-r.length)===r?r:"";var a="";return e.forEach(function(o){t.slice(-o.length)===o&&(a=o)}),a},getDelimiterREByDelimiter:function(t){return new RegExp(t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g")},getNextCursorPosition:function(t,r,e,a,o){return r.length===t?e.length:t+this.getPositionOffset(t,r,e,a,o)},getPositionOffset:function(t,r,e,a,o){var c,s,g;return c=this.stripDelimiters(r.slice(0,t),a,o),s=this.stripDelimiters(e.slice(0,t),a,o),g=c.length-s.length,g!==0?g/Math.abs(g):0},stripDelimiters:function(t,r,e){var a=this;if(e.length===0){var o=r?a.getDelimiterREByDelimiter(r):"";return t.replace(o,"")}return e.forEach(function(c){c.split("").forEach(function(s){t=t.replace(a.getDelimiterREByDelimiter(s),"")})}),t},headStr:function(t,r){return t.slice(0,r)},getMaxLength:function(t){return t.reduce(function(r,e){return r+e},0)},getPrefixStrippedValue:function(t,r,e,a,o,c,s,g,l){if(e===0)return t;if(t===r&&t!=="")return"";if(l&&t.slice(0,1)=="-"){var x=a.slice(0,1)=="-"?a.slice(1):a;return"-"+this.getPrefixStrippedValue(t.slice(1),r,e,x,o,c,s,g,l)}if(a.slice(0,e)!==r&&!g)return s&&!a&&t?t:"";if(a.slice(-e)!==r&&g)return s&&!a&&t?t:"";var F=this.stripDelimiters(a,o,c);return t.slice(0,e)!==r&&!g?F.slice(e):t.slice(-e)!==r&&g?F.slice(0,-e-1):g?t.slice(0,-e):t.slice(e)},getFirstDiffIndex:function(t,r){for(var e=0;t.charAt(e)===r.charAt(e);)if(t.charAt(e++)==="")return-1;return e},getFormattedValue:function(t,r,e,a,o,c){var s="",g=o.length>0,l="";return e===0?t:(r.forEach(function(x,F){if(t.length>0){var v=t.slice(0,x),i=t.slice(x);g?l=o[c?F-1:F]||l:l=a,c?(F>0&&(s+=l),s+=v):(s+=v,v.length===x&&F<e-1&&(s+=l)),t=i}}),s)},fixPrefixCursor:function(t,r,e,a){if(t){var o=t.value,c=e||a[0]||" ";if(!(!t.setSelectionRange||!r||r.length+c.length<=o.length)){var s=o.length*2;setTimeout(function(){t.setSelectionRange(s,s)},1)}}},checkFullSelection:function(t){try{var r=window.getSelection()||document.getSelection()||{};return r.toString().length===t.length}catch{}return!1},setSelection:function(t,r,e){if(t===this.getActiveElement(e)&&!(t&&t.value.length<=r))if(t.createTextRange){var a=t.createTextRange();a.move("character",r),a.select()}else try{t.setSelectionRange(r,r)}catch{console.warn("The input element type does not support selection")}},getActiveElement:function(t){var r=t.activeElement;return r&&r.shadowRoot?this.getActiveElement(r.shadowRoot):r},isAndroid:function(){return navigator&&/android/i.test(navigator.userAgent)},isAndroidBackspaceKeydown:function(t,r){return!this.isAndroid()||!t||!r?!1:r===t.slice(0,-1)}};p.exports=h},function(p,b){var h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d={assign:function(r,e){return r=r||{},e=e||{},r.creditCard=!!e.creditCard,r.creditCardStrictMode=!!e.creditCardStrictMode,r.creditCardType="",r.onCreditCardTypeChanged=e.onCreditCardTypeChanged||function(){},r.phone=!!e.phone,r.phoneRegionCode=e.phoneRegionCode||"AU",r.phoneFormatter={},r.time=!!e.time,r.timePattern=e.timePattern||["h","m","s"],r.timeFormat=e.timeFormat||"24",r.timeFormatter={},r.date=!!e.date,r.datePattern=e.datePattern||["d","m","Y"],r.dateMin=e.dateMin||"",r.dateMax=e.dateMax||"",r.dateFormatter={},r.numeral=!!e.numeral,r.numeralIntegerScale=e.numeralIntegerScale>0?e.numeralIntegerScale:0,r.numeralDecimalScale=e.numeralDecimalScale>=0?e.numeralDecimalScale:2,r.numeralDecimalMark=e.numeralDecimalMark||".",r.numeralThousandsGroupStyle=e.numeralThousandsGroupStyle||"thousand",r.numeralPositiveOnly=!!e.numeralPositiveOnly,r.stripLeadingZeroes=e.stripLeadingZeroes!==!1,r.signBeforePrefix=!!e.signBeforePrefix,r.tailPrefix=!!e.tailPrefix,r.swapHiddenInput=!!e.swapHiddenInput,r.numericOnly=r.creditCard||r.date||!!e.numericOnly,r.uppercase=!!e.uppercase,r.lowercase=!!e.lowercase,r.prefix=r.creditCard||r.date?"":e.prefix||"",r.noImmediatePrefix=!!e.noImmediatePrefix,r.prefixLength=r.prefix.length,r.rawValueTrimPrefix=!!e.rawValueTrimPrefix,r.copyDelimiter=!!e.copyDelimiter,r.initValue=e.initValue!==void 0&&e.initValue!==null?e.initValue.toString():"",r.delimiter=e.delimiter||e.delimiter===""?e.delimiter:e.date?"/":e.time?":":e.numeral?",":(e.phone," "),r.delimiterLength=r.delimiter.length,r.delimiterLazyShow=!!e.delimiterLazyShow,r.delimiters=e.delimiters||[],r.blocks=e.blocks||[],r.blocksLength=r.blocks.length,r.root=(typeof Y>"u"?"undefined":h(Y))==="object"&&Y?Y:window,r.document=e.document||r.root.document,r.maxLength=0,r.backspace=!1,r.result="",r.onValueChanged=e.onValueChanged||function(){},r}};p.exports=d}])})}($)),$.exports}var Z,ie;function ot(){return ie||(ie=1,Z=at()),Z}var st=ot();const ae=xe(st);var lt=j.useLayoutEffect,ct=function(S){var w=U.useRef(S);return lt(function(){w.current=S}),w},oe=function(S,w){if(typeof S=="function"){S(w);return}S.current=w},dt=function(S,w){var p=U.useRef();return U.useCallback(function(b){S.current=b,p.current&&oe(p.current,null),p.current=w,w&&oe(w,b)},[w])},se={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},ut=function(S){Object.keys(se).forEach(function(w){S.style.setProperty(w,se[w],"important")})},le=ut,R=null,ce=function(S,w){var p=S.scrollHeight;return w.sizingStyle.boxSizing==="border-box"?p+w.borderSize:p-w.paddingSize};function ft(I,S,w,p){w===void 0&&(w=1),p===void 0&&(p=1/0),R||(R=document.createElement("textarea"),R.setAttribute("tabindex","-1"),R.setAttribute("aria-hidden","true"),le(R)),R.parentNode===null&&document.body.appendChild(R);var b=I.paddingSize,h=I.borderSize,d=I.sizingStyle,t=d.boxSizing;Object.keys(d).forEach(function(c){var s=c;R.style[s]=d[s]}),le(R),R.value=S;var r=ce(R,I);R.value=S,r=ce(R,I),R.value="x";var e=R.scrollHeight-b,a=e*w;t==="border-box"&&(a=a+b+h),r=Math.max(a,r);var o=e*p;return t==="border-box"&&(o=o+b+h),r=Math.min(o,r),[r,e]}var de=function(){},pt=function(S,w){return S.reduce(function(p,b){return p[b]=w[b],p},{})},mt=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],ht=!!document.documentElement.currentStyle,gt=function(S){var w=window.getComputedStyle(S);if(w===null)return null;var p=pt(mt,w),b=p.boxSizing;if(b==="")return null;ht&&b==="border-box"&&(p.width=parseFloat(p.width)+parseFloat(p.borderRightWidth)+parseFloat(p.borderLeftWidth)+parseFloat(p.paddingRight)+parseFloat(p.paddingLeft)+"px");var h=parseFloat(p.paddingBottom)+parseFloat(p.paddingTop),d=parseFloat(p.borderBottomWidth)+parseFloat(p.borderTopWidth);return{sizingStyle:p,paddingSize:h,borderSize:d}},xt=gt;function G(I,S,w){var p=ct(w);j.useLayoutEffect(function(){var b=function(d){return p.current(d)};if(I)return I.addEventListener(S,b),function(){return I.removeEventListener(S,b)}},[])}var yt=function(S,w){G(document.body,"reset",function(p){S.current.form===p.target&&w(p)})},vt=function(S){G(window,"resize",S)},wt=function(S){G(document.fonts,"loadingdone",S)},bt=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],Ft=function(S,w){var p=S.cacheMeasurements,b=S.maxRows,h=S.minRows,d=S.onChange,t=d===void 0?de:d,r=S.onHeightChange,e=r===void 0?de:r,a=Xe(S,bt),o=a.value!==void 0,c=j.useRef(null),s=dt(c,w),g=j.useRef(0),l=j.useRef(),x=function(){var i=c.current,n=p&&l.current?l.current:xt(i);if(n){l.current=n;var f=ft(n,i.value||i.placeholder||"x",h,b),u=f[0],C=f[1];g.current!==u&&(g.current=u,i.style.setProperty("height",u+"px","important"),e(u,{rowHeight:C}))}},F=function(i){o||x(),t(i)};return j.useLayoutEffect(x),yt(c,function(){if(!o){var v=c.current.value;requestAnimationFrame(function(){var i=c.current;i&&v!==i.value&&x()})}}),vt(x),wt(x),j.createElement("textarea",ye({},a,{onChange:F,ref:s}))},St=j.forwardRef(Ft);function K(I){const{Icon:S=nt,title:w,content:p,anchor:b={to:"bottom start",gap:8}}=I,{smAndDown:h,name:d}=ve(),[t,{open:r,close:e}]=we(!1);be(()=>e(),[d]);const a=m.jsx("div",{className:"contextual-body pointer-events-auto mt-2 text-sm text-gray-500 dark:text-dark-200",children:p});return h?m.jsxs(m.Fragment,{children:[m.jsx(O,{onClick:r,variant:"flat",isIcon:!0,className:"contextual-trigger pointer-events-auto size-6 rounded-full",children:m.jsx(S,{className:"contextual-trigger-icon size-4.5"})}),m.jsx(te,{appear:!0,show:t,as:j.Fragment,children:m.jsxs(Ye,{as:"div",className:"fixed inset-0 z-100 flex flex-col items-center justify-center overflow-hidden px-4 py-6 sm:px-5",onClose:e,children:[m.jsx(re,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsx("div",{className:"absolute inset-0 bg-gray-900/50 transition-opacity dark:bg-black/40"})}),m.jsx(re,{as:j.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:m.jsxs(ze,{className:"scrollbar-sm relative flex max-w-xs flex-col overflow-y-auto rounded-lg bg-white p-4 transition-opacity duration-300 dark:bg-dark-700",children:[m.jsxs("div",{className:"flex items-center justify-between border-b pb-2 dark:border-dark-600",children:[m.jsx(He,{as:"h3",className:"contextual-title text-base text-gray-800 dark:text-dark-100 ltr:mr-2 rtl:ml-2",children:w}),m.jsx(O,{onClick:e,variant:"flat",isIcon:!0,className:"size-6 rounded-full ltr:-mr-1.5 rtl:-ml-1.5",children:m.jsx($e,{className:"size-4.5"})})]}),a]})})]})})]}):m.jsxs(_e,{className:"relative",children:[m.jsx(We,{as:O,variant:"flat",isIcon:!0,className:"contextual-trigger pointer-events-auto size-6 rounded-full",children:m.jsx(S,{className:"contextual-trigger-icon size-4.5"})}),m.jsx(te,{as:j.Fragment,enter:"transition ease-out",enterFrom:"opacity-0 translate-y-2",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-2",children:m.jsxs(Ze,{anchor:b,className:"pointer-events-auto z-100 w-80 rounded-md border border-gray-300 bg-white p-4 shadow-lg shadow-gray-200/50 outline-hidden ring-primary-500/50 focus-visible:outline-hidden focus-visible:ring-3 dark:border-dark-500 dark:bg-dark-750 dark:shadow-none",children:[m.jsx("h3",{className:"contextual-title text-base text-gray-800 dark:text-dark-100",children:w}),a]})})]})}K.propTypes={Icon:z.elementType,title:z.string,content:z.node,anchor:z.object};const Dt={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]},"image"],["clean"]]};function Et({infos:I,ignorFields:S,register:w,control:p,errors:b,tables:h}){const d=j.useRef(),t=I.fields.reduce((e,a)=>{if(a.fieldtype=="HTML"||S.includes(a.fieldname))return e;if(a.fieldtype==="Section Break")e.push({isSection:!0,label:a.label,description:a.description,fields:[[]]});else if(a.fieldtype==="Column Break")e.length===0&&e.push({isSection:!0,fields:[[]]}),e[e.length-1].fields.push([]);else{e.length===0&&e.push({isSection:!0,fields:[[]]});const o=e[e.length-1];o.fields[o.fields.length-1].push(a)}return e},[]),r=e=>e?m.jsx("div",{className:"form-group my-2",id:e.fieldname,children:(()=>{var a,o,c;switch(e.fieldtype){case"Attach":case"Attach Image":return m.jsx(L,{render:({field:{value:s,onChange:g}})=>m.jsxs("div",{children:[m.jsx(De,{onChange:g,ref:d,children:({...l})=>m.jsxs(O,{...l,unstyled:!0,className:X("mt-3 w-full shrink-0 flex-col rounded-lg border-2 border-dashed py-10 border-gray-300 dark:border-dark-450"),children:[m.jsx(tt,{className:"size-12"}),m.jsxs("span",{className:X("pointer-events-none mt-2 text-gray-600 dark:text-dark-200"),children:[m.jsx("span",{className:"text-primary-600 dark:text-primary-400",children:"Browse"}),m.jsx("span",{children:" or drop your files here"})]})]})}),s&&m.jsx("div",{className:"mt-4 flex flex-col space-y-4",children:m.jsxs("div",{className:"relative inline-block",children:[m.jsx(Ee,{size:24,src:`${Ie}${s}`,classNames:{display:"rounded-lg"}}),m.jsx("button",{onClick:()=>g(null),className:"absolute -left-2 -top-2 flex size-5 items-center justify-center rounded-full bg-red-500 text-white hover:bg-red-600 cursor-pointer",children:m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"size-3",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})})]}),control:p,...w(e.fieldname)});case"Color":return m.jsx(L,{render:({field:{value:s,onChange:g}})=>{var l;return m.jsx(Be,{color:s,onChange:x=>g(x.hex),placeholder:`Enter the ${e.label}`,error:(l=b[e.fieldname])==null?void 0:l.message})},control:p,...w(e.fieldname)});case"Data":case"Text":case"Int":case"Float":return m.jsx(L,{render:({field:{onChange:s,value:g}})=>{var l,x;return e.label&&(e.label.toLowerCase().endsWith("mobile")||e.label.toLowerCase().endsWith("phone")||e.label.toLowerCase().startsWith("mobile")||e.label.toLowerCase().startsWith("phone"))?m.jsx(W,{value:g,onChange:s,label:e.label,placeholder:`Enter the ${e.label}`,component:ae,options:{numericOnly:!0,blocks:[0,3,3,4],delimiters:[" "," ","-"]},error:(l=b[e.fieldname])==null?void 0:l.message}):m.jsxs("div",{className:"items-center w-full relative",children:[m.jsx(W,{type:e.fieldtype==="Int"||e.fieldtype==="Float"?"number":"text",value:g,onChange:s,label:e.label,component:e.fieldtype==="Int"||e.fieldtype==="Float"?ae:void 0,options:e.fieldtype==="Int"?{numeral:!0,numeralThousandsGroupStyle:"thousand",numeralDecimalScale:0,numeralPositiveOnly:!0}:e.fieldtype==="Float"?{numeral:!0,numeralThousandsGroupStyle:"thousand",numeralDecimalScale:2,numeralPositiveOnly:!0,delimiter:","}:void 0,error:(x=b[e.fieldname])==null?void 0:x.message}),m.jsx("div",{className:"absolute top-0 right-0",children:e.description&&m.jsx(K,{content:e.description})})]})},control:p,...w(e.fieldname)});case"Currency":return m.jsx(L,{render:({field:{value:s}})=>{var g;return m.jsx(W,{type:"number",value:s,label:e.label,placeholder:`Enter the ${e.label}`,...w(e.fieldname),error:(g=b[e.fieldname])==null?void 0:g.message})},control:p,...w(e.fieldname)});case"Check":return m.jsx(Se,{variant:"outlined",label:e.label,...w(e.fieldname),error:(a=b[e.fieldname])==null?void 0:a.message});case"Button":return m.jsx(O,{color:"warning",...w(e.fieldname),error:(o=b[e.fieldname])==null?void 0:o.message,children:e.label});case"Small Text":return m.jsx(Fe,{rows:4,label:e.label,placeholder:`Enter the ${e.label}`,component:St,minRows:4,maxRows:12,...w(e.fieldname),error:(c=b[e.fieldname])==null?void 0:c.message});case"Text Editor":case"HTML":return m.jsx(L,{render:({field:{value:s,onChange:g,...l}})=>{var v;const F=`${typeof s=="object"?s.ops[0].insert:s||""}`;return m.jsx(Le,{label:e.label,value:Oe(F),placeholder:`Enter ${e.label}`,className:"mt-1.5 [&_.ql-editor]:max-h-80 [&_.ql-editor]:min-h-[12rem]",modules:Dt,error:(v=b[e.fieldname])==null?void 0:v.message,...l})},control:p,...w(e.fieldname)});case"Select":return m.jsx(L,{render:({field:{onChange:s,value:g,...l}})=>{var F;const x=e.options?e.options.split(`
`).map(v=>({label:v,value:v})):[];return m.jsx("div",{className:"max-w-full",children:m.jsx(ee,{onChange:s,value:g,label:e.label,lists:x,placeholder:`${e.label}`,error:(F=b[e.fieldname])==null?void 0:F.message,...l})})},control:p,name:e.fieldname,...w(e.fieldname)});case"Link":return m.jsx(L,{render:({field:{onChange:s,value:g,...l}})=>{var x;return m.jsx("div",{className:"max-w-full",children:m.jsx(ee,{onChange:s,value:g,label:e.label,lists:e.options_list,placeholder:`${e.label}`,isAddNew:!0,rootItem:e,error:(x=b[e.fieldname])==null?void 0:x.message,...l})})},control:p,name:e.fieldname,...w(e.fieldname)});case"Table":return m.jsx(L,{render:({field:{onChange:s,value:g,...l}})=>{var x;return m.jsx(Te,{onChange:s,values:g,label:e.label,isAddNew:!0,rootItem:e,tableFields:h?h[e.fieldname]:{},error:(x=b[e.fieldname])==null?void 0:x.message,...l})},control:p,name:e.fieldname,...w(e.fieldname)});case"Date":case"Time":case"Datetime":return m.jsx(L,{render:({field:{onChange:s,value:g,...l}})=>{var F;const x=v=>{const i=new Date(v[0]);i.setDate(i.getDate()+1);const n=new Date(i).toISOString().split("T")[0];s(n)};return m.jsxs("div",{className:"items-center w-full relative",children:[m.jsx(Ue,{onChange:x,value:g||"",label:e.label,error:(F=b[e.fieldname])==null?void 0:F.message,options:e.fieldtype==="Time"?{enableTime:!0,noCalendar:!0}:e.fieldtype==="Datetime"?{enableTime:!0,disableMobile:!0}:{disableMobile:!0},placeholder:`Enter the ${e.label}`,...l}),m.jsx("div",{className:"absolute top-0 right-0",children:e.description&&m.jsx(K,{content:e.description})})]})},control:p,name:e.fieldname,...w(e.fieldname)});default:return m.jsxs(m.Fragment,{children:["new ... ",e.fieldtype]})}})()},e.fieldname):null;return m.jsx("div",{className:"w-full space-y-2",children:t.map((e,a)=>m.jsxs("div",{children:[e.label&&m.jsxs("div",{className:"mb-4",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.label}),e.description&&m.jsx("p",{className:"mt-1 text-sm text-gray-500",children:e.description})]}),e.fields.some(o=>o.length>0)&&m.jsx("div",{className:"flex flex-col md:flex-row flex-wrap gap-4 border-[0.1px] border-gray-200 rounded-lg",children:e.fields.map((o,c)=>m.jsx("div",{className:"flex-1 min-w-[250px] px-4 md:y-4 sm:y-2",children:o.map(r)},c))})]},a))})}const ue="Vehicle",H="Vehicle";function Ut(){const{isDark:I,darkColorScheme:S,lightColorScheme:w}=Ce(),{user:p}=ke(),b=je(),{id:h}=Ne(),[d,t]=j.useState(null),[r,e]=j.useState({}),a=p.settings.is_enable_branch?[]:["custom_branch"],{data:o,isFetching:c}=Ke({doctype:H}),{data:s,isFetching:g}=Ge({doctype:H,id:h,fields:d?JSON.stringify(d):null});j.useEffect(()=>{if(o!=null&&o.fields){let C=o==null?void 0:o.fields.map(P=>P.fieldname);t(C),e(Object.fromEntries(C.map(P=>[P,""])))}},[o==null?void 0:o.fields]);const l=Je(C=>{C&&(f(),b(-1))}),x=qe(C=>{C&&(f(),b(-1))}),{register:F,handleSubmit:v,formState:{errors:i},control:n,reset:f}=Pe({resolver:Me(Ae(o==null?void 0:o.fields)),values:h?s:r}),u=C=>{h?((C==null?void 0:C.status)==="Draft"&&(o!=null&&o.is_submittable)&&(C.docstatus=1),delete C.last_odometer,x.mutate({doctype:H,body:{...C,id:h}})):l.mutate({doctype:H,body:C})};return c||g?m.jsx(Re,{style:{"--sk-color":I?S[700]:w[300]}}):m.jsx(Ve,{title:(h?"Edit ":"New ")+ue,children:m.jsxs("div",{className:"transition-content px-(--margin-x) pb-6",children:[m.jsxs("div",{className:"flex flex-col items-center justify-between space-y-4 py-5 sm:flex-row sm:space-y-0 lg:py-6",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Qe,{className:"size-6"}),m.jsxs("h2",{className:"line-clamp-1 text-xl font-medium text-gray-700 dark:text-dark-50",children:[h?"Edit":"New"," ",ue]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(O,{className:"min-w-[7rem]",variant:"outlined",color:"error",onClick:()=>b(-1),children:"Back"}),m.jsx(O,{className:"min-w-[7rem]",color:(s==null?void 0:s.status)==="Draft"&&(o!=null&&o.is_submittable)?"success":"primary",type:"submit",form:"new-post-form",children:(s==null?void 0:s.status)==="Draft"&&(o!=null&&o.is_submittable)?"Submit":"Save"})]})]}),m.jsx("form",{autoComplete:"off",onSubmit:v(u),id:"new-post-form",children:m.jsx(Et,{infos:o,fields:d,ignorFields:a,register:F,control:n,errors:i,readOnly:(o==null?void 0:o.is_submittable)&&(s==null?void 0:s.docstatus)})})]})})}export{Ut as default};
