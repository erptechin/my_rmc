import{a as o,R as f}from"./index-CQSnfzOd.js";import{a2 as be,c as ee,A as Re,U as Me,n as ae,o as $,a3 as ze,K as N,y as j,a4 as xe,O as Z,a5 as L,q as k,p as Xe,L as q,a6 as et,a7 as J,a8 as De,a9 as Be,aa as ue,ab as tt,F as Oe,u as ie,z as nt,i as U,ac as Le,k as rt,H as Ne,j as _e,m as Ae,E as ot,ad as He,ae as Ie,v as Ke,af as lt,Q as re,b as at,$ as ut,e as st,w as it,f as ct,_ as me,x as dt,R as ft,g as pt,h as Ye,s as Ge,t as vt,ag as mt,ah as Ee,Z as ke,M as bt,N as Et,r as Ue,I as gt,J as Pt}from"./transition-C7-MfEfP.js";import{E as ge,m as Pe,r as ve}from"./active-element-history-B-Uuw2gA.js";import{f as oe,s as le}from"./frozen-DWK2MHln.js";function ht({title:e,titleId:t,...n},s){return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":t},n),e?o.createElement("title",{id:t},e):null,o.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const yn=o.forwardRef(ht);let yt=o.createContext(()=>{});function je({value:e,children:t}){return f.createElement(yt.Provider,{value:e},t)}function wt(e,t=typeof document<"u"?document.defaultView:null,n){let s=be(e,"escape");ge(t,"keydown",a=>{s&&(a.defaultPrevented||a.key===ee.Escape&&n(a))})}function St(){var e;let[t]=o.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,s]=o.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Re(()=>{if(!t)return;function a(c){s(c.matches)}return t.addEventListener("change",a),()=>t.removeEventListener("change",a)},[t]),n}function Ze({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let s=ae(n),a=$(()=>{var c,d;let r=[];for(let u of e)u!==null&&(u instanceof HTMLElement?r.push(u):"current"in u&&u.current instanceof HTMLElement&&r.push(u.current));if(t!=null&&t.current)for(let u of t.current)r.push(u);for(let u of(c=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?c:[])u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u.id!=="headlessui-portal-root"&&(n&&(u.contains(n)||u.contains((d=n==null?void 0:n.getRootNode())==null?void 0:d.host))||r.some(v=>u.contains(v))||r.push(u));return r});return{resolveContainers:a,contains:$(c=>a().some(d=>d.contains(c)))}}let qe=o.createContext(null);function se({children:e,node:t}){let[n,s]=o.useState(null),a=he(t??n);return f.createElement(qe.Provider,{value:a},e,a===null&&f.createElement(oe,{features:le.Hidden,ref:c=>{var d,r;if(c){for(let u of(r=(d=Me(c))==null?void 0:d.querySelectorAll("html > *, body > *"))!=null?r:[])if(u!==document.body&&u!==document.head&&u instanceof HTMLElement&&u!=null&&u.contains(c)){s(u);break}}}}))}function he(e=null){var t;return(t=o.useContext(qe))!=null?t:e}var B=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(B||{});function ye(){let e=o.useRef(0);return ze(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function Ve(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let $t="div";var ne=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(ne||{});function Ft(e,t){let n=o.useRef(null),s=j(n,t),{initialFocus:a,initialFocusFallback:c,containers:d,features:r=15,...u}=e;xe()||(r=0);let v=ae(n);Ct(r,{ownerDocument:v});let l=Rt(r,{ownerDocument:v,container:n,initialFocus:a,initialFocusFallback:c});Mt(r,{ownerDocument:v,container:n,containers:d,previousActiveElement:l});let F=ye(),h=$(E=>{let I=n.current;I&&(T=>T())(()=>{Z(F.current,{[B.Forwards]:()=>{L(I,k.First,{skipElements:[E.relatedTarget,c]})},[B.Backwards]:()=>{L(I,k.Last,{skipElements:[E.relatedTarget,c]})}})})}),w=be(!!(r&2),"focus-trap#tab-lock"),y=Xe(),S=o.useRef(!1),m={ref:s,onKeyDown(E){E.key=="Tab"&&(S.current=!0,y.requestAnimationFrame(()=>{S.current=!1}))},onBlur(E){if(!(r&4))return;let I=Ve(d);n.current instanceof HTMLElement&&I.add(n.current);let T=E.relatedTarget;T instanceof HTMLElement&&T.dataset.headlessuiFocusGuard!=="true"&&(Qe(I,T)||(S.current?L(n.current,Z(F.current,{[B.Forwards]:()=>k.Next,[B.Backwards]:()=>k.Previous})|k.WrapAround,{relativeTo:E.target}):E.target instanceof HTMLElement&&J(E.target)))}},P=q();return f.createElement(f.Fragment,null,w&&f.createElement(oe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:le.Focusable}),P({ourProps:m,theirProps:u,defaultTag:$t,name:"FocusTrap"}),w&&f.createElement(oe,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:le.Focusable}))}let Tt=N(Ft),It=Object.assign(Tt,{features:ne});function kt(e=!0){let t=o.useRef(ve.slice());return Pe(([n],[s])=>{s===!0&&n===!1&&Be(()=>{t.current.splice(0)}),s===!1&&n===!0&&(t.current=ve.slice())},[e,ve,t]),$(()=>{var n;return(n=t.current.find(s=>s!=null&&s.isConnected))!=null?n:null})}function Ct(e,{ownerDocument:t}){let n=!!(e&8),s=kt(n);Pe(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&J(s())},[n]),et(()=>{n&&J(s())})}function Rt(e,{ownerDocument:t,container:n,initialFocus:s,initialFocusFallback:a}){let c=o.useRef(null),d=be(!!(e&1),"focus-trap#initial-focus"),r=De();return Pe(()=>{if(e===0)return;if(!d){a!=null&&a.current&&J(a.current);return}let u=n.current;u&&Be(()=>{if(!r.current)return;let v=t==null?void 0:t.activeElement;if(s!=null&&s.current){if((s==null?void 0:s.current)===v){c.current=v;return}}else if(u.contains(v)){c.current=v;return}if(s!=null&&s.current)J(s.current);else{if(e&16){if(L(u,k.First|k.AutoFocus)!==ue.Error)return}else if(L(u,k.First)!==ue.Error)return;if(a!=null&&a.current&&(J(a.current),(t==null?void 0:t.activeElement)===a.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}c.current=t==null?void 0:t.activeElement})},[a,d,e]),c}function Mt(e,{ownerDocument:t,container:n,containers:s,previousActiveElement:a}){let c=De(),d=!!(e&4);ge(t==null?void 0:t.defaultView,"focus",r=>{if(!d||!c.current)return;let u=Ve(s);n.current instanceof HTMLElement&&u.add(n.current);let v=a.current;if(!v)return;let l=r.target;l&&l instanceof HTMLElement?Qe(u,l)?(a.current=l,J(l)):(r.preventDefault(),r.stopPropagation(),J(v)):J(a.current)},!0)}function Qe(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var xt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(xt||{}),Dt=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Dt||{});let Bt={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},we=o.createContext(null);we.displayName="DialogContext";function ce(e){let t=o.useContext(we);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ce),n}return t}function Ot(e,t){return Z(t.type,Bt,e,t)}let Ce=N(function(e,t){let n=o.useId(),{id:s=`headlessui-dialog-${n}`,open:a,onClose:c,initialFocus:d,role:r="dialog",autoFocus:u=!0,__demoMode:v=!1,unmount:l=!1,...F}=e,h=o.useRef(!1);r=function(){return r==="dialog"||r==="alertdialog"?r:(h.current||(h.current=!0,console.warn(`Invalid role [${r}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let w=ie();a===void 0&&w!==null&&(a=(w&U.Open)===U.Open);let y=o.useRef(null),S=j(y,t),m=ae(y),P=a?0:1,[E,I]=o.useReducer(Ot,{titleId:null,descriptionId:null,panelRef:o.createRef()}),T=$(()=>c(!1)),O=$(p=>I({type:0,id:p})),x=xe()?P===0:!1,[_,C]=Le(),V={get current(){var p;return(p=E.panelRef.current)!=null?p:y.current}},R=he(),{resolveContainers:Y}=Ze({mainTreeNode:R,portals:_,defaultContainers:[V]}),G=w!==null?(w&U.Closing)===U.Closing:!1;rt(v||G?!1:x,{allowed:$(()=>{var p,g;return[(g=(p=y.current)==null?void 0:p.closest("[data-headlessui-portal]"))!=null?g:null]}),disallowed:$(()=>{var p;return[(p=R==null?void 0:R.closest("body > *:not(#headlessui-portal-root)"))!=null?p:null]})}),Ne(x,Y,p=>{p.preventDefault(),T()}),wt(x,m==null?void 0:m.defaultView,p=>{p.preventDefault(),p.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),T()}),_e(v||G?!1:x,m,Y),Ae(x,y,T);let[A,H]=ot(),z=o.useMemo(()=>[{dialogState:P,close:T,setTitleId:O,unmount:l},E],[P,E,T,O,l]),Q=o.useMemo(()=>({open:P===0}),[P]),X={ref:S,id:s,role:r,tabIndex:-1,"aria-modal":v?void 0:P===0?!0:void 0,"aria-labelledby":E.titleId,"aria-describedby":A,unmount:l},te=!St(),b=ne.None;x&&!v&&(b|=ne.RestoreFocus,b|=ne.TabLock,u&&(b|=ne.AutoFocus),te&&(b|=ne.InitialFocus));let i=q();return f.createElement(He,null,f.createElement(Ie,{force:!0},f.createElement(Ke,null,f.createElement(we.Provider,{value:z},f.createElement(lt,{target:y},f.createElement(Ie,{force:!1},f.createElement(H,{slot:Q},f.createElement(C,null,f.createElement(It,{initialFocus:d,initialFocusFallback:y,containers:Y,features:b},f.createElement(je,{value:T},i({ourProps:X,theirProps:F,slot:Q,defaultTag:Lt,features:Nt,visible:P===0,name:"Dialog"})))))))))))}),Lt="div",Nt=re.RenderStrategy|re.Static;function _t(e,t){let{transition:n=!1,open:s,...a}=e,c=ie(),d=e.hasOwnProperty("open")||c!==null,r=e.hasOwnProperty("onClose");if(!d&&!r)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!d)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!r)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!c&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(s!==void 0||n)&&!a.static?f.createElement(se,null,f.createElement(nt,{show:s,transition:n,unmount:a.unmount},f.createElement(Ce,{ref:t,...a}))):f.createElement(se,null,f.createElement(Ce,{ref:t,open:s,...a}))}let At="div";function Ht(e,t){let n=o.useId(),{id:s=`headlessui-dialog-panel-${n}`,transition:a=!1,...c}=e,[{dialogState:d,unmount:r},u]=ce("Dialog.Panel"),v=j(t,u.panelRef),l=o.useMemo(()=>({open:d===0}),[d]),F=$(m=>{m.stopPropagation()}),h={ref:v,id:s,onClick:F},w=a?Oe:o.Fragment,y=a?{unmount:r}:{},S=q();return f.createElement(w,{...y},S({ourProps:h,theirProps:c,slot:l,defaultTag:At,name:"Dialog.Panel"}))}let Kt="div";function Yt(e,t){let{transition:n=!1,...s}=e,[{dialogState:a,unmount:c}]=ce("Dialog.Backdrop"),d=o.useMemo(()=>({open:a===0}),[a]),r={ref:t,"aria-hidden":!0},u=n?Oe:o.Fragment,v=n?{unmount:c}:{},l=q();return f.createElement(u,{...v},l({ourProps:r,theirProps:s,slot:d,defaultTag:Kt,name:"Dialog.Backdrop"}))}let Gt="h2";function Ut(e,t){let n=o.useId(),{id:s=`headlessui-dialog-title-${n}`,...a}=e,[{dialogState:c,setTitleId:d}]=ce("Dialog.Title"),r=j(t);o.useEffect(()=>(d(s),()=>d(null)),[s,d]);let u=o.useMemo(()=>({open:c===0}),[c]),v={ref:r,id:s};return q()({ourProps:v,theirProps:a,slot:u,defaultTag:Gt,name:"Dialog.Title"})}let jt=N(_t),Zt=N(Ht);N(Yt);let qt=N(Ut),wn=Object.assign(jt,{Panel:Zt,Title:qt,Description:tt});var Vt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Vt||{}),Qt=(e=>(e[e.TogglePopover=0]="TogglePopover",e[e.ClosePopover=1]="ClosePopover",e[e.SetButton=2]="SetButton",e[e.SetButtonId=3]="SetButtonId",e[e.SetPanel=4]="SetPanel",e[e.SetPanelId=5]="SetPanelId",e))(Qt||{});let Wt={0:e=>({...e,popoverState:Z(e.popoverState,{0:1,1:0}),__demoMode:!1}),1(e){return e.popoverState===1?e:{...e,popoverState:1,__demoMode:!1}},2(e,t){return e.button===t.button?e:{...e,button:t.button}},3(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},4(e,t){return e.panel===t.panel?e:{...e,panel:t.panel}},5(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},Se=o.createContext(null);Se.displayName="PopoverContext";function de(e){let t=o.useContext(Se);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,de),n}return t}let fe=o.createContext(null);fe.displayName="PopoverAPIContext";function $e(e){let t=o.useContext(fe);if(t===null){let n=new Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,$e),n}return t}let Fe=o.createContext(null);Fe.displayName="PopoverGroupContext";function We(){return o.useContext(Fe)}let pe=o.createContext(null);pe.displayName="PopoverPanelContext";function Jt(){return o.useContext(pe)}function zt(e,t){return Z(t.type,Wt,e,t)}let Xt="div";function en(e,t){var n;let{__demoMode:s=!1,...a}=e,c=o.useRef(null),d=j(t,mt(b=>{c.current=b})),r=o.useRef([]),u=o.useReducer(zt,{__demoMode:s,popoverState:s?0:1,buttons:r,button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:o.createRef(),afterPanelSentinel:o.createRef(),afterButtonSentinel:o.createRef()}),[{popoverState:v,button:l,buttonId:F,panel:h,panelId:w,beforePanelSentinel:y,afterPanelSentinel:S,afterButtonSentinel:m},P]=u,E=ae((n=c.current)!=null?n:l),I=o.useMemo(()=>{if(!l||!h)return!1;for(let M of document.querySelectorAll("body > *"))if(Number(M==null?void 0:M.contains(l))^Number(M==null?void 0:M.contains(h)))return!0;let b=Ee(),i=b.indexOf(l),p=(i+b.length-1)%b.length,g=(i+1)%b.length,D=b[p],K=b[g];return!h.contains(D)&&!h.contains(K)},[l,h]),T=ke(F),O=ke(w),x=o.useMemo(()=>({buttonId:T,panelId:O,close:()=>P({type:1})}),[T,O,P]),_=We(),C=_==null?void 0:_.registerPopover,V=$(()=>{var b;return(b=_==null?void 0:_.isFocusWithinPopoverGroup())!=null?b:(E==null?void 0:E.activeElement)&&((l==null?void 0:l.contains(E.activeElement))||(h==null?void 0:h.contains(E.activeElement)))});o.useEffect(()=>C==null?void 0:C(x),[C,x]);let[R,Y]=Le(),G=he(l),A=Ze({mainTreeNode:G,portals:R,defaultContainers:[l,h]});ge(E==null?void 0:E.defaultView,"focus",b=>{var i,p,g,D,K,M;b.target!==window&&b.target instanceof HTMLElement&&v===0&&(V()||l&&h&&(A.contains(b.target)||(p=(i=y.current)==null?void 0:i.contains)!=null&&p.call(i,b.target)||(D=(g=S.current)==null?void 0:g.contains)!=null&&D.call(g,b.target)||(M=(K=m.current)==null?void 0:K.contains)!=null&&M.call(K,b.target)||P({type:1})))},!0),Ne(v===0,A.resolveContainers,(b,i)=>{P({type:1}),gt(i,Pt.Loose)||(b.preventDefault(),l==null||l.focus())});let H=$(b=>{P({type:1});let i=b?b instanceof HTMLElement?b:"current"in b&&b.current instanceof HTMLElement?b.current:l:l;i==null||i.focus()}),z=o.useMemo(()=>({close:H,isPortalled:I}),[H,I]),Q=o.useMemo(()=>({open:v===0,close:H}),[v,H]),X={ref:d},te=q();return f.createElement(se,{node:G},f.createElement(bt,null,f.createElement(pe.Provider,{value:null},f.createElement(Se.Provider,{value:u},f.createElement(fe.Provider,{value:z},f.createElement(je,{value:H},f.createElement(Et,{value:Z(v,{0:U.Open,1:U.Closed})},f.createElement(Y,null,te({ourProps:X,theirProps:a,slot:Q,defaultTag:Xt,name:"Popover"})))))))))}let tn="button";function nn(e,t){let n=o.useId(),{id:s=`headlessui-popover-button-${n}`,disabled:a=!1,autoFocus:c=!1,...d}=e,[r,u]=de("Popover.Button"),{isPortalled:v}=$e("Popover.Button"),l=o.useRef(null),F=`headlessui-focus-sentinel-${o.useId()}`,h=We(),w=h==null?void 0:h.closeOthers,y=Jt()!==null;o.useEffect(()=>{if(!y)return u({type:3,buttonId:s}),()=>{u({type:3,buttonId:null})}},[y,s,u]);let[S]=o.useState(()=>Symbol()),m=j(l,t,at(),$(i=>{if(!y){if(i)r.buttons.current.push(S);else{let p=r.buttons.current.indexOf(S);p!==-1&&r.buttons.current.splice(p,1)}r.buttons.current.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),i&&u({type:2,button:i})}})),P=j(l,t),E=ae(l),I=$(i=>{var p,g,D;if(y){if(r.popoverState===1)return;switch(i.key){case ee.Space:case ee.Enter:i.preventDefault(),(g=(p=i.target).click)==null||g.call(p),u({type:1}),(D=r.button)==null||D.focus();break}}else switch(i.key){case ee.Space:case ee.Enter:i.preventDefault(),i.stopPropagation(),r.popoverState===1&&(w==null||w(r.buttonId)),u({type:0});break;case ee.Escape:if(r.popoverState!==0)return w==null?void 0:w(r.buttonId);if(!l.current||E!=null&&E.activeElement&&!l.current.contains(E.activeElement))return;i.preventDefault(),i.stopPropagation(),u({type:1});break}}),T=$(i=>{y||i.key===ee.Space&&i.preventDefault()}),O=$(i=>{var p,g;Ue(i.currentTarget)||a||(y?(u({type:1}),(p=r.button)==null||p.focus()):(i.preventDefault(),i.stopPropagation(),r.popoverState===1&&(w==null||w(r.buttonId)),u({type:0}),(g=r.button)==null||g.focus()))}),x=$(i=>{i.preventDefault(),i.stopPropagation()}),{isFocusVisible:_,focusProps:C}=ut({autoFocus:c}),{isHovered:V,hoverProps:R}=st({isDisabled:a}),{pressed:Y,pressProps:G}=it({disabled:a}),A=r.popoverState===0,H=o.useMemo(()=>({open:A,active:Y||A,disabled:a,hover:V,focus:_,autofocus:c}),[A,V,_,Y,a,c]),z=ct(e,r.button),Q=y?me({ref:P,type:z,onKeyDown:I,onClick:O,disabled:a||void 0,autoFocus:c},C,R,G):me({ref:m,id:r.buttonId,type:z,"aria-expanded":r.popoverState===0,"aria-controls":r.panel?r.panelId:void 0,disabled:a||void 0,autoFocus:c,onKeyDown:I,onKeyUp:T,onClick:O,onMouseDown:x},C,R,G),X=ye(),te=$(()=>{let i=r.panel;if(!i)return;function p(){Z(X.current,{[B.Forwards]:()=>L(i,k.First),[B.Backwards]:()=>L(i,k.Last)})===ue.Error&&L(Ee().filter(g=>g.dataset.headlessuiFocusGuard!=="true"),Z(X.current,{[B.Forwards]:k.Next,[B.Backwards]:k.Previous}),{relativeTo:r.button})}p()}),b=q();return f.createElement(f.Fragment,null,b({ourProps:Q,theirProps:d,slot:H,defaultTag:tn,name:"Popover.Button"}),A&&!y&&v&&f.createElement(oe,{id:F,ref:r.afterButtonSentinel,features:le.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:te}))}let rn="div",on=re.RenderStrategy|re.Static;function Je(e,t){let n=o.useId(),{id:s=`headlessui-popover-backdrop-${n}`,transition:a=!1,...c}=e,[{popoverState:d},r]=de("Popover.Backdrop"),[u,v]=o.useState(null),l=j(t,v),F=ie(),[h,w]=Ye(a,u,F!==null?(F&U.Open)===U.Open:d===0),y=$(P=>{if(Ue(P.currentTarget))return P.preventDefault();r({type:1})}),S=o.useMemo(()=>({open:d===0}),[d]),m={ref:l,id:s,"aria-hidden":!0,onClick:y,...Ge(w)};return q()({ourProps:m,theirProps:c,slot:S,defaultTag:rn,features:on,visible:h,name:"Popover.Backdrop"})}let ln="div",an=re.RenderStrategy|re.Static;function un(e,t){let n=o.useId(),{id:s=`headlessui-popover-panel-${n}`,focus:a=!1,anchor:c,portal:d=!1,modal:r=!1,transition:u=!1,...v}=e,[l,F]=de("Popover.Panel"),{close:h,isPortalled:w}=$e("Popover.Panel"),y=`headlessui-focus-sentinel-before-${n}`,S=`headlessui-focus-sentinel-after-${n}`,m=o.useRef(null),P=dt(c),[E,I]=ft(P),T=pt();P&&(d=!0);let[O,x]=o.useState(null),_=j(m,t,P?E:null,$(i=>F({type:4,panel:i})),x),C=ae(m);Re(()=>(F({type:5,panelId:s}),()=>{F({type:5,panelId:null})}),[s,F]);let V=ie(),[R,Y]=Ye(u,O,V!==null?(V&U.Open)===U.Open:l.popoverState===0);Ae(R,l.button,()=>{F({type:1})});let G=l.__demoMode?!1:r&&R;_e(G,C);let A=$(i=>{var p;switch(i.key){case ee.Escape:if(l.popoverState!==0||!m.current||C!=null&&C.activeElement&&!m.current.contains(C.activeElement))return;i.preventDefault(),i.stopPropagation(),F({type:1}),(p=l.button)==null||p.focus();break}});o.useEffect(()=>{var i;e.static||l.popoverState===1&&((i=e.unmount)==null||i)&&F({type:4,panel:null})},[l.popoverState,e.unmount,e.static,F]),o.useEffect(()=>{if(l.__demoMode||!a||l.popoverState!==0||!m.current)return;let i=C==null?void 0:C.activeElement;m.current.contains(i)||L(m.current,k.First)},[l.__demoMode,a,m.current,l.popoverState]);let H=o.useMemo(()=>({open:l.popoverState===0,close:h}),[l.popoverState,h]),z=me(P?T():{},{ref:_,id:s,onKeyDown:A,onBlur:a&&l.popoverState===0?i=>{var p,g,D,K,M;let W=i.relatedTarget;W&&m.current&&((p=m.current)!=null&&p.contains(W)||(F({type:1}),((D=(g=l.beforePanelSentinel.current)==null?void 0:g.contains)!=null&&D.call(g,W)||(M=(K=l.afterPanelSentinel.current)==null?void 0:K.contains)!=null&&M.call(K,W))&&W.focus({preventScroll:!0})))}:void 0,tabIndex:-1,style:{...v.style,...I,"--button-width":vt(l.button,!0).width},...Ge(Y)}),Q=ye(),X=$(()=>{let i=m.current;if(!i)return;function p(){Z(Q.current,{[B.Forwards]:()=>{var g;L(i,k.First)===ue.Error&&((g=l.afterPanelSentinel.current)==null||g.focus())},[B.Backwards]:()=>{var g;(g=l.button)==null||g.focus({preventScroll:!0})}})}p()}),te=$(()=>{let i=m.current;if(!i)return;function p(){Z(Q.current,{[B.Forwards]:()=>{if(!l.button)return;let g=Ee(),D=g.indexOf(l.button),K=g.slice(0,D+1),M=[...g.slice(D+1),...K];for(let W of M.slice())if(W.dataset.headlessuiFocusGuard==="true"||O!=null&&O.contains(W)){let Te=M.indexOf(W);Te!==-1&&M.splice(Te,1)}L(M,k.First,{sorted:!1})},[B.Backwards]:()=>{var g;L(i,k.Previous)===ue.Error&&((g=l.button)==null||g.focus())}})}p()}),b=q();return f.createElement(He,null,f.createElement(pe.Provider,{value:s},f.createElement(fe.Provider,{value:{close:h,isPortalled:w}},f.createElement(Ke,{enabled:d?e.static||R:!1},R&&w&&f.createElement(oe,{id:y,ref:l.beforePanelSentinel,features:le.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:X}),b({ourProps:z,theirProps:v,slot:H,defaultTag:ln,features:an,visible:R,name:"Popover.Panel"}),R&&w&&f.createElement(oe,{id:S,ref:l.afterPanelSentinel,features:le.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:te})))))}let sn="div";function cn(e,t){let n=o.useRef(null),s=j(n,t),[a,c]=o.useState([]),d=$(S=>{c(m=>{let P=m.indexOf(S);if(P!==-1){let E=m.slice();return E.splice(P,1),E}return m})}),r=$(S=>(c(m=>[...m,S]),()=>d(S))),u=$(()=>{var S;let m=Me(n);if(!m)return!1;let P=m.activeElement;return(S=n.current)!=null&&S.contains(P)?!0:a.some(E=>{var I,T;return((I=m.getElementById(E.buttonId.current))==null?void 0:I.contains(P))||((T=m.getElementById(E.panelId.current))==null?void 0:T.contains(P))})}),v=$(S=>{for(let m of a)m.buttonId.current!==S&&m.close()}),l=o.useMemo(()=>({registerPopover:r,unregisterPopover:d,isFocusWithinPopoverGroup:u,closeOthers:v}),[r,d,u,v]),F=o.useMemo(()=>({}),[]),h=e,w={ref:s},y=q();return f.createElement(se,null,f.createElement(Fe.Provider,{value:l},y({ourProps:w,theirProps:h,slot:F,defaultTag:sn,name:"Popover.Group"})))}let dn=N(en),fn=N(nn),pn=N(Je),vn=N(Je),mn=N(un),bn=N(cn),Sn=Object.assign(dn,{Button:fn,Backdrop:vn,Overlay:pn,Panel:mn,Group:bn});export{yn as F,mn as R,fn as S,qt as Y,Zt as j,Sn as l,wn as y};
