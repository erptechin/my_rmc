import{a as i,R as d}from"./index-C0PndZKY.js";import{a2 as U,b as be,v as Te,T as $e,n as V,o as w,a3 as ye,K as P,y as x,a4 as ne,N as j,a5 as M,l as T,p as ke,L as S,a6 as De,a7 as F,a8 as re,a9 as oe,aa as Q,ab as Re,a0 as ae,u as le,z as Ce,i as O,ac as Pe,j as Le,E as Ie,h as Me,m as Se,D as Oe,ad as xe,ae as X,t as He,af as Be,O as J}from"./transition-BwmRkQvd.js";import{E as ue,m as Z,r as A}from"./active-element-history-BfpJv4N7.js";import{f as Y,s as q}from"./frozen-_XzV-JRQ.js";function Ne({title:e,titleId:t,...n},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?i.createElement("title",{id:t},e):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const wt=i.forwardRef(Ne);let Ae=i.createContext(()=>{});function je({value:e,children:t}){return d.createElement(Ae.Provider,{value:e},t)}function Ye(e,t=typeof document<"u"?document.defaultView:null,n){let r=U(e,"escape");ue(t,"keydown",o=>{r&&(o.defaultPrevented||o.key===be.Escape&&n(o))})}function qe(){var e;let[t]=i.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[n,r]=i.useState((e=t==null?void 0:t.matches)!=null?e:!1);return Te(()=>{if(!t)return;function o(u){r(u.matches)}return t.addEventListener("change",o),()=>t.removeEventListener("change",o)},[t]),n}function Ue({defaultContainers:e=[],portals:t,mainTreeNode:n}={}){let r=V(n),o=w(()=>{var u,s;let l=[];for(let a of e)a!==null&&(a instanceof HTMLElement?l.push(a):"current"in a&&a.current instanceof HTMLElement&&l.push(a.current));if(t!=null&&t.current)for(let a of t.current)l.push(a);for(let a of(u=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?u:[])a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a.id!=="headlessui-portal-root"&&(n&&(a.contains(n)||a.contains((s=n==null?void 0:n.getRootNode())==null?void 0:s.host))||l.some(c=>a.contains(c))||l.push(a));return l});return{resolveContainers:o,contains:w(u=>o().some(s=>s.contains(u)))}}let ie=i.createContext(null);function ee({children:e,node:t}){let[n,r]=i.useState(null),o=se(t??n);return d.createElement(ie.Provider,{value:o},e,o===null&&d.createElement(Y,{features:q.Hidden,ref:u=>{var s,l;if(u){for(let a of(l=(s=$e(u))==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?l:[])if(a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a!=null&&a.contains(u)){r(a);break}}}}))}function se(e=null){var t;return(t=i.useContext(ie))!=null?t:e}var I=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(I||{});function Ve(){let e=i.useRef(0);return ye(!0,"keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function ce(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.current)n.current instanceof HTMLElement&&t.add(n.current);return t}let Ze="div";var D=(e=>(e[e.None=0]="None",e[e.InitialFocus=1]="InitialFocus",e[e.TabLock=2]="TabLock",e[e.FocusLock=4]="FocusLock",e[e.RestoreFocus=8]="RestoreFocus",e[e.AutoFocus=16]="AutoFocus",e))(D||{});function ze(e,t){let n=i.useRef(null),r=x(n,t),{initialFocus:o,initialFocusFallback:u,containers:s,features:l=15,...a}=e;ne()||(l=0);let c=V(n);_e(l,{ownerDocument:c});let f=Qe(l,{ownerDocument:c,container:n,initialFocus:o,initialFocusFallback:u});Xe(l,{ownerDocument:c,container:n,containers:s,previousActiveElement:f});let R=Ve(),$=w(p=>{let b=n.current;b&&(v=>v())(()=>{j(R.current,{[I.Forwards]:()=>{M(b,T.First,{skipElements:[p.relatedTarget,u]})},[I.Backwards]:()=>{M(b,T.Last,{skipElements:[p.relatedTarget,u]})}})})}),E=U(!!(l&2),"focus-trap#tab-lock"),g=ke(),y=i.useRef(!1),k={ref:r,onKeyDown(p){p.key=="Tab"&&(y.current=!0,g.requestAnimationFrame(()=>{y.current=!1}))},onBlur(p){if(!(l&4))return;let b=ce(s);n.current instanceof HTMLElement&&b.add(n.current);let v=p.relatedTarget;v instanceof HTMLElement&&v.dataset.headlessuiFocusGuard!=="true"&&(de(b,v)||(y.current?M(n.current,j(R.current,{[I.Forwards]:()=>T.Next,[I.Backwards]:()=>T.Previous})|T.WrapAround,{relativeTo:p.target}):p.target instanceof HTMLElement&&F(p.target)))}},h=S();return d.createElement(d.Fragment,null,E&&d.createElement(Y,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:$,features:q.Focusable}),h({ourProps:k,theirProps:a,defaultTag:Ze,name:"FocusTrap"}),E&&d.createElement(Y,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:$,features:q.Focusable}))}let Ke=P(ze),We=Object.assign(Ke,{features:D});function Ge(e=!0){let t=i.useRef(A.slice());return Z(([n],[r])=>{r===!0&&n===!1&&oe(()=>{t.current.splice(0)}),r===!1&&n===!0&&(t.current=A.slice())},[e,A,t]),w(()=>{var n;return(n=t.current.find(r=>r!=null&&r.isConnected))!=null?n:null})}function _e(e,{ownerDocument:t}){let n=!!(e&8),r=Ge(n);Z(()=>{n||(t==null?void 0:t.activeElement)===(t==null?void 0:t.body)&&F(r())},[n]),De(()=>{n&&F(r())})}function Qe(e,{ownerDocument:t,container:n,initialFocus:r,initialFocusFallback:o}){let u=i.useRef(null),s=U(!!(e&1),"focus-trap#initial-focus"),l=re();return Z(()=>{if(e===0)return;if(!s){o!=null&&o.current&&F(o.current);return}let a=n.current;a&&oe(()=>{if(!l.current)return;let c=t==null?void 0:t.activeElement;if(r!=null&&r.current){if((r==null?void 0:r.current)===c){u.current=c;return}}else if(a.contains(c)){u.current=c;return}if(r!=null&&r.current)F(r.current);else{if(e&16){if(M(a,T.First|T.AutoFocus)!==Q.Error)return}else if(M(a,T.First)!==Q.Error)return;if(o!=null&&o.current&&(F(o.current),(t==null?void 0:t.activeElement)===o.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}u.current=t==null?void 0:t.activeElement})},[o,s,e]),u}function Xe(e,{ownerDocument:t,container:n,containers:r,previousActiveElement:o}){let u=re(),s=!!(e&4);ue(t==null?void 0:t.defaultView,"focus",l=>{if(!s||!u.current)return;let a=ce(r);n.current instanceof HTMLElement&&a.add(n.current);let c=o.current;if(!c)return;let f=l.target;f&&f instanceof HTMLElement?de(a,f)?(o.current=f,F(f)):(l.preventDefault(),l.stopPropagation(),F(c)):F(o.current)},!0)}function de(e,t){for(let n of e)if(n.contains(t))return!0;return!1}var Je=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Je||{}),et=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(et||{});let tt={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},z=i.createContext(null);z.displayName="DialogContext";function H(e){let t=i.useContext(z);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,H),n}return t}function nt(e,t){return j(t.type,tt,e,t)}let te=P(function(e,t){let n=i.useId(),{id:r=`headlessui-dialog-${n}`,open:o,onClose:u,initialFocus:s,role:l="dialog",autoFocus:a=!0,__demoMode:c=!1,unmount:f=!1,...R}=e,$=i.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:($.current||($.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let E=le();o===void 0&&E!==null&&(o=(E&O.Open)===O.Open);let g=i.useRef(null),y=x(g,t),k=V(g),h=o?0:1,[p,b]=i.useReducer(nt,{titleId:null,descriptionId:null,panelRef:i.createRef()}),v=w(()=>u(!1)),K=w(m=>b({type:0,id:m})),C=ne()?h===0:!1,[fe,me]=Pe(),pe={get current(){var m;return(m=p.panelRef.current)!=null?m:g.current}},B=se(),{resolveContainers:N}=Ue({mainTreeNode:B,portals:fe,defaultContainers:[pe]}),W=E!==null?(E&O.Closing)===O.Closing:!1;Le(c||W?!1:C,{allowed:w(()=>{var m,_;return[(_=(m=g.current)==null?void 0:m.closest("[data-headlessui-portal]"))!=null?_:null]}),disallowed:w(()=>{var m;return[(m=B==null?void 0:B.closest("body > *:not(#headlessui-portal-root)"))!=null?m:null]})}),Ie(C,N,m=>{m.preventDefault(),v()}),Ye(C,k==null?void 0:k.defaultView,m=>{m.preventDefault(),m.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),v()}),Me(c||W?!1:C,k,N),Se(C,g,v);let[ve,ge]=Oe(),Ee=i.useMemo(()=>[{dialogState:h,close:v,setTitleId:K,unmount:f},p],[h,p,v,K,f]),G=i.useMemo(()=>({open:h===0}),[h]),he={ref:y,id:r,role:l,tabIndex:-1,"aria-modal":c?void 0:h===0?!0:void 0,"aria-labelledby":p.titleId,"aria-describedby":ve,unmount:f},we=!qe(),L=D.None;C&&!c&&(L|=D.RestoreFocus,L|=D.TabLock,a&&(L|=D.AutoFocus),we&&(L|=D.InitialFocus));let Fe=S();return d.createElement(xe,null,d.createElement(X,{force:!0},d.createElement(He,null,d.createElement(z.Provider,{value:Ee},d.createElement(Be,{target:g},d.createElement(X,{force:!1},d.createElement(ge,{slot:G},d.createElement(me,null,d.createElement(We,{initialFocus:s,initialFocusFallback:g,containers:N,features:L},d.createElement(je,{value:v},Fe({ourProps:he,theirProps:R,slot:G,defaultTag:rt,features:ot,visible:h===0,name:"Dialog"})))))))))))}),rt="div",ot=J.RenderStrategy|J.Static;function at(e,t){let{transition:n=!1,open:r,...o}=e,u=le(),s=e.hasOwnProperty("open")||u!==null,l=e.hasOwnProperty("onClose");if(!s&&!l)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!s)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!l)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!u&&typeof e.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${e.open}`);if(typeof e.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${e.onClose}`);return(r!==void 0||n)&&!o.static?d.createElement(ee,null,d.createElement(Ce,{show:r,transition:n,unmount:o.unmount},d.createElement(te,{ref:t,...o}))):d.createElement(ee,null,d.createElement(te,{ref:t,open:r,...o}))}let lt="div";function ut(e,t){let n=i.useId(),{id:r=`headlessui-dialog-panel-${n}`,transition:o=!1,...u}=e,[{dialogState:s,unmount:l},a]=H("Dialog.Panel"),c=x(t,a.panelRef),f=i.useMemo(()=>({open:s===0}),[s]),R=w(k=>{k.stopPropagation()}),$={ref:c,id:r,onClick:R},E=o?ae:i.Fragment,g=o?{unmount:l}:{},y=S();return d.createElement(E,{...g},y({ourProps:$,theirProps:u,slot:f,defaultTag:lt,name:"Dialog.Panel"}))}let it="div";function st(e,t){let{transition:n=!1,...r}=e,[{dialogState:o,unmount:u}]=H("Dialog.Backdrop"),s=i.useMemo(()=>({open:o===0}),[o]),l={ref:t,"aria-hidden":!0},a=n?ae:i.Fragment,c=n?{unmount:u}:{},f=S();return d.createElement(a,{...c},f({ourProps:l,theirProps:r,slot:s,defaultTag:it,name:"Dialog.Backdrop"}))}let ct="h2";function dt(e,t){let n=i.useId(),{id:r=`headlessui-dialog-title-${n}`,...o}=e,[{dialogState:u,setTitleId:s}]=H("Dialog.Title"),l=x(t);i.useEffect(()=>(s(r),()=>s(null)),[r,s]);let a=i.useMemo(()=>({open:u===0}),[u]),c={ref:l,id:r};return S()({ourProps:c,theirProps:o,slot:a,defaultTag:ct,name:"Dialog.Title"})}let ft=P(at),mt=P(ut);P(st);let pt=P(dt),Ft=Object.assign(ft,{Panel:mt,Title:pt,Description:Re});export{je as C,wt as F,ee as O,Ue as R,pt as Y,I as a,se as b,mt as j,Ve as u,Ft as y};
